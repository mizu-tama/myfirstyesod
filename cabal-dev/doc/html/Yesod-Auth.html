<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Yesod.Auth</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Yesod-Auth.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">yesod-auth-1.1.3: Authentication for Yesod.</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr></table><p class="caption">Yesod.Auth</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Subsite
</a></li><li><a href="#g:2">Plugin interface
</a></li><li><a href="#g:3">User functions
</a></li><li><a href="#g:4">Exception
</a></li></ul></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span>  <a href="#t:Auth">Auth</a> </li><li class="src short"><span class="keyword">type</span> <a href="#t:AuthRoute">AuthRoute</a> = <a href="Yesod-Auth.html#t:Route">Route</a> <a href="Yesod-Auth.html#t:Auth">Auth</a></li><li class="src short"><span class="keyword">data family</span> <a href="#t:Route">Route</a> a </li><li class="src short"><span class="keyword">data</span>  <a href="#t:AuthPlugin">AuthPlugin</a> m = <a href="#v:AuthPlugin">AuthPlugin</a> {<ul class="subs"><li><a href="#v:apName">apName</a> :: <a href="/Library/Haskell/ghc-7.4.2/lib/text-0.11.2.3/doc/html/Data-Text-Internal.html#t:Text">Text</a></li><li><a href="#v:apDispatch">apDispatch</a> :: Method -&gt; [Piece] -&gt; <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Yesod-Handler.html#t:GHandler">GHandler</a> <a href="Yesod-Auth.html#t:Auth">Auth</a> m <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Tuple.html#t:-40--41-">()</a></li><li><a href="#v:apLogin">apLogin</a> :: <span class="keyword">forall</span> s.  (<a href="Yesod-Auth.html#t:Route">Route</a> <a href="Yesod-Auth.html#t:Auth">Auth</a> -&gt; <a href="Yesod-Auth.html#t:Route">Route</a> m) -&gt; <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Yesod-Widget.html#t:GWidget">GWidget</a> s m <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Tuple.html#t:-40--41-">()</a></li></ul>}</li><li class="src short"><a href="#v:getAuth">getAuth</a> ::  a -&gt; <a href="Yesod-Auth.html#t:Auth">Auth</a></li><li class="src short"><span class="keyword">class</span> (<a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Yesod-Core.html#t:Yesod">Yesod</a> m, <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Web-PathPieces.html#t:PathPiece">PathPiece</a> (<a href="Yesod-Auth.html#t:AuthId">AuthId</a> m), <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Text-Shakespeare-I18N.html#t:RenderMessage">RenderMessage</a> m <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Yesod-Form-Types.html#t:FormMessage">FormMessage</a>) =&gt; <a href="#t:YesodAuth">YesodAuth</a> m  <span class="keyword">where</span><ul class="subs"><li><span class="keyword">type</span> <a href="#t:AuthId">AuthId</a> m </li><li><a href="#v:loginDest">loginDest</a> :: m -&gt; <a href="Yesod-Auth.html#t:Route">Route</a> m</li><li><a href="#v:logoutDest">logoutDest</a> :: m -&gt; <a href="Yesod-Auth.html#t:Route">Route</a> m</li><li><a href="#v:getAuthId">getAuthId</a> ::  <a href="Yesod-Auth.html#t:Creds">Creds</a> m -&gt; <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Yesod-Handler.html#t:GHandler">GHandler</a> s m (<a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Yesod-Auth.html#t:AuthId">AuthId</a> m))</li><li><a href="#v:authPlugins">authPlugins</a> :: m -&gt; [<a href="Yesod-Auth.html#t:AuthPlugin">AuthPlugin</a> m]</li><li><a href="#v:loginHandler">loginHandler</a> :: <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Yesod-Handler.html#t:GHandler">GHandler</a> <a href="Yesod-Auth.html#t:Auth">Auth</a> m <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Yesod-Content.html#t:RepHtml">RepHtml</a></li><li><a href="#v:renderAuthMessage">renderAuthMessage</a> :: m -&gt; [<a href="/Library/Haskell/ghc-7.4.2/lib/text-0.11.2.3/doc/html/Data-Text-Internal.html#t:Text">Text</a>] -&gt; <a href="Yesod-Auth-Message.html#t:AuthMessage">AuthMessage</a> -&gt; <a href="/Library/Haskell/ghc-7.4.2/lib/text-0.11.2.3/doc/html/Data-Text-Internal.html#t:Text">Text</a></li><li><a href="#v:redirectToReferer">redirectToReferer</a> :: m -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-Bool.html#t:Bool">Bool</a></li><li><a href="#v:authHttpManager">authHttpManager</a> :: m -&gt; <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Network-HTTP-Conduit.html#t:Manager">Manager</a></li><li><a href="#v:onLogin">onLogin</a> ::  <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Yesod-Handler.html#t:GHandler">GHandler</a> s m <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Tuple.html#t:-40--41-">()</a></li><li><a href="#v:onLogout">onLogout</a> ::  <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Yesod-Handler.html#t:GHandler">GHandler</a> s m <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Tuple.html#t:-40--41-">()</a></li><li><a href="#v:maybeAuthId">maybeAuthId</a> ::  <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Yesod-Handler.html#t:GHandler">GHandler</a> s m (<a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Yesod-Auth.html#t:AuthId">AuthId</a> m))</li></ul></li><li class="src short"><span class="keyword">data</span>  <a href="#t:Creds">Creds</a> m = <a href="#v:Creds">Creds</a> {<ul class="subs"><li><a href="#v:credsPlugin">credsPlugin</a> :: <a href="/Library/Haskell/ghc-7.4.2/lib/text-0.11.2.3/doc/html/Data-Text-Internal.html#t:Text">Text</a></li><li><a href="#v:credsIdent">credsIdent</a> :: <a href="/Library/Haskell/ghc-7.4.2/lib/text-0.11.2.3/doc/html/Data-Text-Internal.html#t:Text">Text</a></li><li><a href="#v:credsExtra">credsExtra</a> :: [(<a href="/Library/Haskell/ghc-7.4.2/lib/text-0.11.2.3/doc/html/Data-Text-Internal.html#t:Text">Text</a>, <a href="/Library/Haskell/ghc-7.4.2/lib/text-0.11.2.3/doc/html/Data-Text-Internal.html#t:Text">Text</a>)]</li></ul>}</li><li class="src short"><a href="#v:setCreds">setCreds</a> :: <a href="Yesod-Auth.html#t:YesodAuth">YesodAuth</a> m =&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-Bool.html#t:Bool">Bool</a> -&gt; <a href="Yesod-Auth.html#t:Creds">Creds</a> m -&gt; <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Yesod-Handler.html#t:GHandler">GHandler</a> s m <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Tuple.html#t:-40--41-">()</a></li><li class="src short"><a href="#v:defaultMaybeAuthId">defaultMaybeAuthId</a> :: <a href="Yesod-Auth.html#t:YesodAuth">YesodAuth</a> m =&gt; <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Yesod-Handler.html#t:GHandler">GHandler</a> s m (<a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Yesod-Auth.html#t:AuthId">AuthId</a> m))</li><li class="src short"><a href="#v:maybeAuth">maybeAuth</a> :: (<a href="Yesod-Auth.html#t:YesodAuth">YesodAuth</a> m, b ~ <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Yesod-Persist.html#t:YesodPersistBackend">YesodPersistBackend</a> m, b ~ <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Database-Persist-Store.html#t:PersistEntityBackend">PersistEntityBackend</a> val, <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Database-Persist-Store.html#t:Key">Key</a> b val ~ <a href="Yesod-Auth.html#t:AuthId">AuthId</a> m, <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Database-Persist-Store.html#t:PersistStore">PersistStore</a> b (<a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Yesod-Handler.html#t:GHandler">GHandler</a> s m), <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Database-Persist-Store.html#t:PersistEntity">PersistEntity</a> val, <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Yesod-Persist.html#t:YesodPersist">YesodPersist</a> m) =&gt; <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Yesod-Handler.html#t:GHandler">GHandler</a> s m (<a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Database-Persist-Store.html#t:Entity">Entity</a> val))</li><li class="src short"><a href="#v:requireAuthId">requireAuthId</a> :: <a href="Yesod-Auth.html#t:YesodAuth">YesodAuth</a> m =&gt; <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Yesod-Handler.html#t:GHandler">GHandler</a> s m (<a href="Yesod-Auth.html#t:AuthId">AuthId</a> m)</li><li class="src short"><a href="#v:requireAuth">requireAuth</a> :: (<a href="Yesod-Auth.html#t:YesodAuth">YesodAuth</a> m, b ~ <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Yesod-Persist.html#t:YesodPersistBackend">YesodPersistBackend</a> m, b ~ <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Database-Persist-Store.html#t:PersistEntityBackend">PersistEntityBackend</a> val, <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Database-Persist-Store.html#t:Key">Key</a> b val ~ <a href="Yesod-Auth.html#t:AuthId">AuthId</a> m, <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Database-Persist-Store.html#t:PersistStore">PersistStore</a> b (<a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Yesod-Handler.html#t:GHandler">GHandler</a> s m), <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Database-Persist-Store.html#t:PersistEntity">PersistEntity</a> val, <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Yesod-Persist.html#t:YesodPersist">YesodPersist</a> m) =&gt; <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Yesod-Handler.html#t:GHandler">GHandler</a> s m (<a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Database-Persist-Store.html#t:Entity">Entity</a> val)</li><li class="src short"><span class="keyword">data</span>  <a href="#t:AuthException">AuthException</a> <ul class="subs"><li>= <a href="#v:InvalidBrowserIDAssertion">InvalidBrowserIDAssertion</a>  </li><li>| <a href="#v:InvalidFacebookResponse">InvalidFacebookResponse</a>  </li></ul></li></ul></div><div id="interface"><h1 id="g:1">Subsite
</h1><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:Auth" class="def">Auth</a>  </p><div class="subs instances"><p id="control.i:Auth" class="caption collapser" onclick="toggleSection('i:Auth')">Instances</p><div id="section.i:Auth" class="show"><table><tr><td class="src"><a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Yesod-Core.html#t:RenderRoute">RenderRoute</a> <a href="Yesod-Auth.html#t:Auth">Auth</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Yesod-Core.html#t:Yesod">Yesod</a> master, <a href="Yesod-Auth.html#t:YesodAuth">YesodAuth</a> master) =&gt; <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Yesod-Core.html#t:YesodDispatch">YesodDispatch</a> <a href="Yesod-Auth.html#t:Auth">Auth</a> master</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-Eq.html#t:Eq">Eq</a> (<a href="Yesod-Auth.html#t:Route">Route</a> <a href="Yesod-Auth.html#t:Auth">Auth</a>)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Text-Read.html#t:Read">Read</a> (<a href="Yesod-Auth.html#t:Route">Route</a> <a href="Yesod-Auth.html#t:Auth">Auth</a>)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Text-Show.html#t:Show">Show</a> (<a href="Yesod-Auth.html#t:Route">Route</a> <a href="Yesod-Auth.html#t:Auth">Auth</a>)</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:AuthRoute" class="def">AuthRoute</a> = <a href="Yesod-Auth.html#t:Route">Route</a> <a href="Yesod-Auth.html#t:Auth">Auth</a></p></div><div class="top"><p class="src"><span class="keyword">data family</span> <a name="t:Route" class="def">Route</a> a </p><div class="doc"><p>The type-safe URLs associated with a site argument.
</p></div></div><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:AuthPlugin" class="def">AuthPlugin</a> m </p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:AuthPlugin" class="def">AuthPlugin</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:apName" class="def">apName</a> :: <a href="/Library/Haskell/ghc-7.4.2/lib/text-0.11.2.3/doc/html/Data-Text-Internal.html#t:Text">Text</a></dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:apDispatch" class="def">apDispatch</a> :: Method -&gt; [Piece] -&gt; <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Yesod-Handler.html#t:GHandler">GHandler</a> <a href="Yesod-Auth.html#t:Auth">Auth</a> m <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Tuple.html#t:-40--41-">()</a></dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:apLogin" class="def">apLogin</a> :: <span class="keyword">forall</span> s.  (<a href="Yesod-Auth.html#t:Route">Route</a> <a href="Yesod-Auth.html#t:Auth">Auth</a> -&gt; <a href="Yesod-Auth.html#t:Route">Route</a> m) -&gt; <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Yesod-Widget.html#t:GWidget">GWidget</a> s m <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Tuple.html#t:-40--41-">()</a></dt><dd class="doc empty">&nbsp;</dd></dl><div class="clear"></div></div></td></tr></table></div></div><div class="top"><p class="src"><a name="v:getAuth" class="def">getAuth</a> ::  a -&gt; <a href="Yesod-Auth.html#t:Auth">Auth</a></p></div><div class="top"><p class="src"><span class="keyword">class</span> (<a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Yesod-Core.html#t:Yesod">Yesod</a> m, <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Web-PathPieces.html#t:PathPiece">PathPiece</a> (<a href="Yesod-Auth.html#t:AuthId">AuthId</a> m), <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Text-Shakespeare-I18N.html#t:RenderMessage">RenderMessage</a> m <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Yesod-Form-Types.html#t:FormMessage">FormMessage</a>) =&gt; <a name="t:YesodAuth" class="def">YesodAuth</a> m  <span class="keyword">where</span></p><div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a name="t:AuthId" class="def">AuthId</a> m </p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:loginDest" class="def">loginDest</a> :: m -&gt; <a href="Yesod-Auth.html#t:Route">Route</a> m</p><div class="doc"><p>Default destination on successful login, if no other
 destination exists.
</p></div><p class="src"><a name="v:logoutDest" class="def">logoutDest</a> :: m -&gt; <a href="Yesod-Auth.html#t:Route">Route</a> m</p><div class="doc"><p>Default destination on successful logout, if no other
 destination exists.
</p></div><p class="src"><a name="v:getAuthId" class="def">getAuthId</a> ::  <a href="Yesod-Auth.html#t:Creds">Creds</a> m -&gt; <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Yesod-Handler.html#t:GHandler">GHandler</a> s m (<a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Yesod-Auth.html#t:AuthId">AuthId</a> m))</p><div class="doc"><p>Determine the ID associated with the set of credentials.
</p></div><p class="src"><a name="v:authPlugins" class="def">authPlugins</a> :: m -&gt; [<a href="Yesod-Auth.html#t:AuthPlugin">AuthPlugin</a> m]</p><div class="doc"><p>Which authentication backends to use.
</p></div><p class="src"><a name="v:loginHandler" class="def">loginHandler</a> :: <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Yesod-Handler.html#t:GHandler">GHandler</a> <a href="Yesod-Auth.html#t:Auth">Auth</a> m <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Yesod-Content.html#t:RepHtml">RepHtml</a></p><div class="doc"><p>What to show on the login page.
</p></div><p class="src"><a name="v:renderAuthMessage" class="def">renderAuthMessage</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; [<a href="/Library/Haskell/ghc-7.4.2/lib/text-0.11.2.3/doc/html/Data-Text-Internal.html#t:Text">Text</a>]</td><td class="doc"><p>languages
</p></td></tr><tr><td class="src">-&gt; <a href="Yesod-Auth-Message.html#t:AuthMessage">AuthMessage</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="/Library/Haskell/ghc-7.4.2/lib/text-0.11.2.3/doc/html/Data-Text-Internal.html#t:Text">Text</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Used for i18n of messages provided by this package.
</p></div><p class="src"><a name="v:redirectToReferer" class="def">redirectToReferer</a> :: m -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-Bool.html#t:Bool">Bool</a></p><div class="doc"><p>After login and logout, redirect to the referring page, instead of
 <code><a href="Yesod-Auth.html#v:loginDest">loginDest</a></code> and <code><a href="Yesod-Auth.html#v:logoutDest">logoutDest</a></code>. Default is <code><a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-Bool.html#v:False">False</a></code>.
</p></div><p class="src"><a name="v:authHttpManager" class="def">authHttpManager</a> :: m -&gt; <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Network-HTTP-Conduit.html#t:Manager">Manager</a></p><p class="src"><a name="v:onLogin" class="def">onLogin</a> ::  <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Yesod-Handler.html#t:GHandler">GHandler</a> s m <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Tuple.html#t:-40--41-">()</a></p><div class="doc"><p>Called on a successful login. By default, calls
 <code>setMessageI NowLoggedIn</code>.
</p></div><p class="src"><a name="v:onLogout" class="def">onLogout</a> ::  <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Yesod-Handler.html#t:GHandler">GHandler</a> s m <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Tuple.html#t:-40--41-">()</a></p><div class="doc"><p>Called on logout. By default, does nothing
</p></div><p class="src"><a name="v:maybeAuthId" class="def">maybeAuthId</a> ::  <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Yesod-Handler.html#t:GHandler">GHandler</a> s m (<a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Yesod-Auth.html#t:AuthId">AuthId</a> m))</p><div class="doc"><p>Retrieves user credentials, if user is authenticated.
</p><p>By default, this calls <code><a href="Yesod-Auth.html#v:defaultMaybeAuthId">defaultMaybeAuthId</a></code> to get the user ID from the
 session. This can be overridden to allow authentication via other means,
 such as checking for a special token in a request header. This is
 especially useful for creating an API to be accessed via some means
 other than a browser.
</p><p>Since 1.1.2
</p></div></div></div><h1 id="g:2">Plugin interface
</h1><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:Creds" class="def">Creds</a> m </p><div class="doc"><p>User credentials
</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Creds" class="def">Creds</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:credsPlugin" class="def">credsPlugin</a> :: <a href="/Library/Haskell/ghc-7.4.2/lib/text-0.11.2.3/doc/html/Data-Text-Internal.html#t:Text">Text</a></dt><dd class="doc"><p>How the user was authenticated
</p></dd><dt class="src"><a name="v:credsIdent" class="def">credsIdent</a> :: <a href="/Library/Haskell/ghc-7.4.2/lib/text-0.11.2.3/doc/html/Data-Text-Internal.html#t:Text">Text</a></dt><dd class="doc"><p>Identifier. Exact meaning depends on plugin.
</p></dd><dt class="src"><a name="v:credsExtra" class="def">credsExtra</a> :: [(<a href="/Library/Haskell/ghc-7.4.2/lib/text-0.11.2.3/doc/html/Data-Text-Internal.html#t:Text">Text</a>, <a href="/Library/Haskell/ghc-7.4.2/lib/text-0.11.2.3/doc/html/Data-Text-Internal.html#t:Text">Text</a>)]</dt><dd class="doc empty">&nbsp;</dd></dl><div class="clear"></div></div></td></tr></table></div></div><div class="top"><p class="src"><a name="v:setCreds" class="def">setCreds</a> :: <a href="Yesod-Auth.html#t:YesodAuth">YesodAuth</a> m =&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-Bool.html#t:Bool">Bool</a> -&gt; <a href="Yesod-Auth.html#t:Creds">Creds</a> m -&gt; <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Yesod-Handler.html#t:GHandler">GHandler</a> s m <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Tuple.html#t:-40--41-">()</a></p><div class="doc"><p>FIXME: won't show up till redirect
</p></div></div><h1 id="g:3">User functions
</h1><div class="top"><p class="src"><a name="v:defaultMaybeAuthId" class="def">defaultMaybeAuthId</a> :: <a href="Yesod-Auth.html#t:YesodAuth">YesodAuth</a> m =&gt; <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Yesod-Handler.html#t:GHandler">GHandler</a> s m (<a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Yesod-Auth.html#t:AuthId">AuthId</a> m))</p><div class="doc"><p>Retrieves user credentials from the session, if user is authenticated.
</p><p>Since 1.1.2
</p></div></div><div class="top"><p class="src"><a name="v:maybeAuth" class="def">maybeAuth</a> :: (<a href="Yesod-Auth.html#t:YesodAuth">YesodAuth</a> m, b ~ <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Yesod-Persist.html#t:YesodPersistBackend">YesodPersistBackend</a> m, b ~ <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Database-Persist-Store.html#t:PersistEntityBackend">PersistEntityBackend</a> val, <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Database-Persist-Store.html#t:Key">Key</a> b val ~ <a href="Yesod-Auth.html#t:AuthId">AuthId</a> m, <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Database-Persist-Store.html#t:PersistStore">PersistStore</a> b (<a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Yesod-Handler.html#t:GHandler">GHandler</a> s m), <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Database-Persist-Store.html#t:PersistEntity">PersistEntity</a> val, <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Yesod-Persist.html#t:YesodPersist">YesodPersist</a> m) =&gt; <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Yesod-Handler.html#t:GHandler">GHandler</a> s m (<a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Database-Persist-Store.html#t:Entity">Entity</a> val))</p></div><div class="top"><p class="src"><a name="v:requireAuthId" class="def">requireAuthId</a> :: <a href="Yesod-Auth.html#t:YesodAuth">YesodAuth</a> m =&gt; <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Yesod-Handler.html#t:GHandler">GHandler</a> s m (<a href="Yesod-Auth.html#t:AuthId">AuthId</a> m)</p></div><div class="top"><p class="src"><a name="v:requireAuth" class="def">requireAuth</a> :: (<a href="Yesod-Auth.html#t:YesodAuth">YesodAuth</a> m, b ~ <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Yesod-Persist.html#t:YesodPersistBackend">YesodPersistBackend</a> m, b ~ <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Database-Persist-Store.html#t:PersistEntityBackend">PersistEntityBackend</a> val, <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Database-Persist-Store.html#t:Key">Key</a> b val ~ <a href="Yesod-Auth.html#t:AuthId">AuthId</a> m, <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Database-Persist-Store.html#t:PersistStore">PersistStore</a> b (<a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Yesod-Handler.html#t:GHandler">GHandler</a> s m), <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Database-Persist-Store.html#t:PersistEntity">PersistEntity</a> val, <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Yesod-Persist.html#t:YesodPersist">YesodPersist</a> m) =&gt; <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Yesod-Handler.html#t:GHandler">GHandler</a> s m (<a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Database-Persist-Store.html#t:Entity">Entity</a> val)</p></div><h1 id="g:4">Exception
</h1><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:AuthException" class="def">AuthException</a>  </p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:InvalidBrowserIDAssertion" class="def">InvalidBrowserIDAssertion</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:InvalidFacebookResponse" class="def">InvalidFacebookResponse</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:AuthException" class="caption collapser" onclick="toggleSection('i:AuthException')">Instances</p><div id="section.i:AuthException" class="show"><table><tr><td class="src"><a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Text-Show.html#t:Show">Show</a> <a href="Yesod-Auth.html#t:AuthException">AuthException</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-Typeable-Internal.html#t:Typeable">Typeable</a> <a href="Yesod-Auth.html#t:AuthException">AuthException</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Exception-Base.html#t:Exception">Exception</a> <a href="Yesod-Auth.html#t:AuthException">AuthException</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.11.0</p></div></body></html>