<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Database.Persist.GenericSql</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Database-Persist-GenericSql.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">persistent-1.0.2.2: Type-safe, multi-backend data serialization.</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr></table><p class="caption">Database.Persist.GenericSql</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Raw SQL queries
</a></li><li><a href="#g:2">Migrations
</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This is a helper module for creating SQL backends. Regular users do not
 need to use this module.
</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">newtype</span>  <a href="#t:SqlPersist">SqlPersist</a> m a = <a href="#v:SqlPersist">SqlPersist</a> {<ul class="subs"><li><a href="#v:unSqlPersist">unSqlPersist</a> :: <a href="/Library/Haskell/ghc-7.4.2/lib/mtl-2.1.2/doc/html/Control-Monad-Reader.html#t:ReaderT">ReaderT</a> <a href="Database-Persist-GenericSql.html#t:Connection">Connection</a> m a</li></ul>}</li><li class="src short"><span class="keyword">data</span>  <a href="#t:Connection">Connection</a> </li><li class="src short"><span class="keyword">type</span> <a href="#t:ConnectionPool">ConnectionPool</a> = <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Data-Conduit-Pool.html#t:Pool">Pool</a> <a href="Database-Persist-GenericSql.html#t:Connection">Connection</a></li><li class="src short"><span class="keyword">data</span>  <a href="#t:Statement">Statement</a> </li><li class="src short"><a href="#v:runSqlConn">runSqlConn</a> :: (<a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Data-Conduit.html#t:MonadBaseControl">MonadBaseControl</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/System-IO.html#t:IO">IO</a> m, <a href="/Library/Haskell/ghc-7.4.2/lib/transformers-0.3.0.0/doc/html/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m) =&gt; <a href="Database-Persist-GenericSql.html#t:SqlPersist">SqlPersist</a> m a -&gt; <a href="Database-Persist-GenericSql.html#t:Connection">Connection</a> -&gt; m a</li><li class="src short"><a href="#v:runSqlPool">runSqlPool</a> :: (<a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Data-Conduit.html#t:MonadBaseControl">MonadBaseControl</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/System-IO.html#t:IO">IO</a> m, <a href="/Library/Haskell/ghc-7.4.2/lib/transformers-0.3.0.0/doc/html/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m) =&gt; <a href="Database-Persist-GenericSql.html#t:SqlPersist">SqlPersist</a> m a -&gt; <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Data-Conduit-Pool.html#t:Pool">Pool</a> <a href="Database-Persist-GenericSql.html#t:Connection">Connection</a> -&gt; m a</li><li class="src short"><span class="keyword">newtype</span>  <a href="#t:Key">Key</a> backend entity = <a href="#v:Key">Key</a> {<ul class="subs"><li><a href="#v:unKey">unKey</a> :: <a href="Database-Persist-Store.html#t:PersistValue">PersistValue</a></li></ul>}</li><li class="src short"><a href="#v:rawSql">rawSql</a> :: (<a href="Database-Persist-GenericSql.html#t:RawSql">RawSql</a> a, <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Data-Conduit.html#t:MonadUnsafeIO">MonadUnsafeIO</a> m, <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Data-Conduit.html#t:MonadThrow">MonadThrow</a> m, <a href="/Library/Haskell/ghc-7.4.2/lib/transformers-0.3.0.0/doc/html/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Data-Conduit.html#t:MonadBaseControl">MonadBaseControl</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/System-IO.html#t:IO">IO</a> m, <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Control-Monad-Logger.html#t:MonadLogger">MonadLogger</a> m) =&gt; <a href="/Library/Haskell/ghc-7.4.2/lib/text-0.11.2.3/doc/html/Data-Text-Internal.html#t:Text">Text</a> -&gt; [<a href="Database-Persist-Store.html#t:PersistValue">PersistValue</a>] -&gt; <a href="Database-Persist-GenericSql.html#t:SqlPersist">SqlPersist</a> m [a]</li><li class="src short"><span class="keyword">data</span>  <a href="#t:Entity">Entity</a> entity = <a href="#v:Entity">Entity</a> {<ul class="subs"><li><a href="#v:entityKey">entityKey</a> :: <a href="Database-Persist-GenericSql.html#t:Key">Key</a> (<a href="Database-Persist-Store.html#t:PersistEntityBackend">PersistEntityBackend</a> entity) entity</li><li><a href="#v:entityVal">entityVal</a> :: entity</li></ul>}</li><li class="src short"><span class="keyword">newtype</span>  <a href="#t:Single">Single</a> a = <a href="#v:Single">Single</a> {<ul class="subs"><li><a href="#v:unSingle">unSingle</a> :: a</li></ul>}</li><li class="src short"><span class="keyword">class</span>  <a href="#t:RawSql">RawSql</a> a </li><li class="src short"><span class="keyword">type</span> <a href="#t:Migration">Migration</a> m = <a href="/Library/Haskell/ghc-7.4.2/lib/mtl-2.1.2/doc/html/Control-Monad-Writer-Lazy.html#t:WriterT">WriterT</a> [<a href="/Library/Haskell/ghc-7.4.2/lib/text-0.11.2.3/doc/html/Data-Text-Internal.html#t:Text">Text</a>] (<a href="/Library/Haskell/ghc-7.4.2/lib/mtl-2.1.2/doc/html/Control-Monad-Writer-Lazy.html#t:WriterT">WriterT</a> CautiousMigration m) <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Tuple.html#t:-40--41-">()</a></li><li class="src short"><a href="#v:parseMigration">parseMigration</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Database-Persist-GenericSql.html#t:Migration">Migration</a> m -&gt; m (<a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-Either.html#t:Either">Either</a> [<a href="/Library/Haskell/ghc-7.4.2/lib/text-0.11.2.3/doc/html/Data-Text-Internal.html#t:Text">Text</a>] CautiousMigration)</li><li class="src short"><a href="#v:parseMigration-39-">parseMigration'</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Database-Persist-GenericSql.html#t:Migration">Migration</a> m -&gt; m CautiousMigration</li><li class="src short"><a href="#v:printMigration">printMigration</a> :: (<a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Data-Conduit.html#t:MonadBaseControl">MonadBaseControl</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/System-IO.html#t:IO">IO</a> m, <a href="/Library/Haskell/ghc-7.4.2/lib/transformers-0.3.0.0/doc/html/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m) =&gt; <a href="Database-Persist-GenericSql.html#t:Migration">Migration</a> (<a href="Database-Persist-GenericSql.html#t:SqlPersist">SqlPersist</a> m) -&gt; <a href="Database-Persist-GenericSql.html#t:SqlPersist">SqlPersist</a> m <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Tuple.html#t:-40--41-">()</a></li><li class="src short"><a href="#v:getMigration">getMigration</a> :: (<a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Data-Conduit.html#t:MonadBaseControl">MonadBaseControl</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/System-IO.html#t:IO">IO</a> m, <a href="/Library/Haskell/ghc-7.4.2/lib/transformers-0.3.0.0/doc/html/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m) =&gt; <a href="Database-Persist-GenericSql.html#t:Migration">Migration</a> (<a href="Database-Persist-GenericSql.html#t:SqlPersist">SqlPersist</a> m) -&gt; <a href="Database-Persist-GenericSql.html#t:SqlPersist">SqlPersist</a> m [Sql]</li><li class="src short"><a href="#v:runMigration">runMigration</a> :: (<a href="/Library/Haskell/ghc-7.4.2/lib/transformers-0.3.0.0/doc/html/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Data-Conduit.html#t:MonadBaseControl">MonadBaseControl</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/System-IO.html#t:IO">IO</a> m, <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Control-Monad-Logger.html#t:MonadLogger">MonadLogger</a> m) =&gt; <a href="Database-Persist-GenericSql.html#t:Migration">Migration</a> (<a href="Database-Persist-GenericSql.html#t:SqlPersist">SqlPersist</a> m) -&gt; <a href="Database-Persist-GenericSql.html#t:SqlPersist">SqlPersist</a> m <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Tuple.html#t:-40--41-">()</a></li><li class="src short"><a href="#v:runMigrationSilent">runMigrationSilent</a> :: (<a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Data-Conduit.html#t:MonadBaseControl">MonadBaseControl</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/System-IO.html#t:IO">IO</a> m, <a href="/Library/Haskell/ghc-7.4.2/lib/transformers-0.3.0.0/doc/html/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Control-Monad-Logger.html#t:MonadLogger">MonadLogger</a> m) =&gt; <a href="Database-Persist-GenericSql.html#t:Migration">Migration</a> (<a href="Database-Persist-GenericSql.html#t:SqlPersist">SqlPersist</a> m) -&gt; <a href="Database-Persist-GenericSql.html#t:SqlPersist">SqlPersist</a> m [<a href="/Library/Haskell/ghc-7.4.2/lib/text-0.11.2.3/doc/html/Data-Text-Internal.html#t:Text">Text</a>]</li><li class="src short"><a href="#v:runMigrationUnsafe">runMigrationUnsafe</a> :: (<a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Data-Conduit.html#t:MonadBaseControl">MonadBaseControl</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/System-IO.html#t:IO">IO</a> m, <a href="/Library/Haskell/ghc-7.4.2/lib/transformers-0.3.0.0/doc/html/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Control-Monad-Logger.html#t:MonadLogger">MonadLogger</a> m) =&gt; <a href="Database-Persist-GenericSql.html#t:Migration">Migration</a> (<a href="Database-Persist-GenericSql.html#t:SqlPersist">SqlPersist</a> m) -&gt; <a href="Database-Persist-GenericSql.html#t:SqlPersist">SqlPersist</a> m <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Tuple.html#t:-40--41-">()</a></li><li class="src short"><a href="#v:migrate">migrate</a> :: (<a href="/Library/Haskell/ghc-7.4.2/lib/transformers-0.3.0.0/doc/html/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Data-Conduit.html#t:MonadBaseControl">MonadBaseControl</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/System-IO.html#t:IO">IO</a> m, <a href="Database-Persist-Store.html#t:PersistEntity">PersistEntity</a> val) =&gt; [<a href="Database-Persist-EntityDef.html#t:EntityDef">EntityDef</a>] -&gt; val -&gt; <a href="Database-Persist-GenericSql.html#t:Migration">Migration</a> (<a href="Database-Persist-GenericSql.html#t:SqlPersist">SqlPersist</a> m)</li><li class="src short"><a href="#v:commit">commit</a> :: <a href="/Library/Haskell/ghc-7.4.2/lib/transformers-0.3.0.0/doc/html/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; <a href="Database-Persist-GenericSql.html#t:SqlPersist">SqlPersist</a> m <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Tuple.html#t:-40--41-">()</a></li><li class="src short"><a href="#v:rollback">rollback</a> :: <a href="/Library/Haskell/ghc-7.4.2/lib/transformers-0.3.0.0/doc/html/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; <a href="Database-Persist-GenericSql.html#t:SqlPersist">SqlPersist</a> m <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Tuple.html#t:-40--41-">()</a></li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">newtype</span>  <a name="t:SqlPersist" class="def">SqlPersist</a> m a </p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:SqlPersist" class="def">SqlPersist</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:unSqlPersist" class="def">unSqlPersist</a> :: <a href="/Library/Haskell/ghc-7.4.2/lib/mtl-2.1.2/doc/html/Control-Monad-Reader.html#t:ReaderT">ReaderT</a> <a href="Database-Persist-GenericSql.html#t:Connection">Connection</a> m a</dt><dd class="doc empty">&nbsp;</dd></dl><div class="clear"></div></div></td></tr></table></div><div class="subs instances"><p id="control.i:SqlPersist" class="caption collapser" onclick="toggleSection('i:SqlPersist')">Instances</p><div id="section.i:SqlPersist" class="show"><table><tr><td class="src"><a href="/Library/Haskell/ghc-7.4.2/lib/transformers-0.3.0.0/doc/html/Control-Monad-Trans-Class.html#t:MonadTrans">MonadTrans</a> <a href="Database-Persist-GenericSql.html#t:SqlPersist">SqlPersist</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Control-Monad-Trans-Control.html#t:MonadTransControl">MonadTransControl</a> <a href="Database-Persist-GenericSql.html#t:SqlPersist">SqlPersist</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Data-Conduit.html#t:MonadBaseControl">MonadBaseControl</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/System-IO.html#t:IO">IO</a> m, <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Data-Conduit.html#t:MonadUnsafeIO">MonadUnsafeIO</a> m, <a href="/Library/Haskell/ghc-7.4.2/lib/transformers-0.3.0.0/doc/html/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Data-Conduit.html#t:MonadThrow">MonadThrow</a> m, <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Control-Monad-Logger.html#t:MonadLogger">MonadLogger</a> m) =&gt; <a href="Database-Persist-Store.html#t:PersistUnique">PersistUnique</a> <a href="Database-Persist-GenericSql.html#t:SqlPersist">SqlPersist</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Data-Conduit.html#t:MonadBaseControl">MonadBaseControl</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/System-IO.html#t:IO">IO</a> m, <a href="/Library/Haskell/ghc-7.4.2/lib/transformers-0.3.0.0/doc/html/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Data-Conduit.html#t:MonadThrow">MonadThrow</a> m, <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Data-Conduit.html#t:MonadUnsafeIO">MonadUnsafeIO</a> m, <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Control-Monad-Logger.html#t:MonadLogger">MonadLogger</a> m) =&gt; <a href="Database-Persist-Store.html#t:PersistStore">PersistStore</a> <a href="Database-Persist-GenericSql.html#t:SqlPersist">SqlPersist</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Data-Conduit.html#t:MonadThrow">MonadThrow</a> m, <a href="/Library/Haskell/ghc-7.4.2/lib/transformers-0.3.0.0/doc/html/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Data-Conduit.html#t:MonadUnsafeIO">MonadUnsafeIO</a> m, <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Data-Conduit.html#t:MonadBaseControl">MonadBaseControl</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/System-IO.html#t:IO">IO</a> m, <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Control-Monad-Logger.html#t:MonadLogger">MonadLogger</a> m) =&gt; <a href="Database-Persist-Query-Internal.html#t:PersistQuery">PersistQuery</a> <a href="Database-Persist-GenericSql.html#t:SqlPersist">SqlPersist</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Data-Conduit.html#t:MonadBaseControl">MonadBaseControl</a> backend m =&gt; <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Data-Conduit.html#t:MonadBaseControl">MonadBaseControl</a> backend (<a href="Database-Persist-GenericSql.html#t:SqlPersist">SqlPersist</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Control-Monad-Base.html#t:MonadBase">MonadBase</a> backend m =&gt; <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Control-Monad-Base.html#t:MonadBase">MonadBase</a> backend (<a href="Database-Persist-GenericSql.html#t:SqlPersist">SqlPersist</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad.html#t:Monad">Monad</a> (<a href="Database-Persist-GenericSql.html#t:SqlPersist">SqlPersist</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad.html#t:Functor">Functor</a> m =&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad.html#t:Functor">Functor</a> (<a href="Database-Persist-GenericSql.html#t:SqlPersist">SqlPersist</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad.html#t:MonadPlus">MonadPlus</a> m =&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad.html#t:MonadPlus">MonadPlus</a> (<a href="Database-Persist-GenericSql.html#t:SqlPersist">SqlPersist</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Applicative.html#t:Applicative">Applicative</a> m =&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Applicative.html#t:Applicative">Applicative</a> (<a href="Database-Persist-GenericSql.html#t:SqlPersist">SqlPersist</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Data-Conduit.html#t:MonadThrow">MonadThrow</a> m =&gt; <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Data-Conduit.html#t:MonadThrow">MonadThrow</a> (<a href="Database-Persist-GenericSql.html#t:SqlPersist">SqlPersist</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Data-Conduit.html#t:MonadResource">MonadResource</a> m =&gt; <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Data-Conduit.html#t:MonadResource">MonadResource</a> (<a href="Database-Persist-GenericSql.html#t:SqlPersist">SqlPersist</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Control-Monad-Logger.html#t:MonadLogger">MonadLogger</a> m =&gt; <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Control-Monad-Logger.html#t:MonadLogger">MonadLogger</a> (<a href="Database-Persist-GenericSql.html#t:SqlPersist">SqlPersist</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Library/Haskell/ghc-7.4.2/lib/transformers-0.3.0.0/doc/html/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; <a href="/Library/Haskell/ghc-7.4.2/lib/transformers-0.3.0.0/doc/html/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> (<a href="Database-Persist-GenericSql.html#t:SqlPersist">SqlPersist</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="/Library/Haskell/ghc-7.4.2/lib/transformers-0.3.0.0/doc/html/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Control-Monad-Logger.html#t:MonadLogger">MonadLogger</a> m) =&gt; MonadSqlPersist (<a href="Database-Persist-GenericSql.html#t:SqlPersist">SqlPersist</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Web-PathPieces.html#t:PathPiece">PathPiece</a> (<a href="Database-Persist-GenericSql.html#t:Key">Key</a> <a href="Database-Persist-GenericSql.html#t:SqlPersist">SqlPersist</a> entity)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="Database-Persist-Store.html#t:PersistEntity">PersistEntity</a> one, <a href="Database-Persist-Store.html#t:PersistEntity">PersistEntity</a> many, <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-Eq.html#t:Eq">Eq</a> (<a href="Database-Persist-GenericSql.html#t:Key">Key</a> <a href="Database-Persist-GenericSql.html#t:SqlPersist">SqlPersist</a> one)) =&gt; <a href="Database-Persist-Query-Join-Sql.html#t:RunJoin">RunJoin</a> (<a href="Database-Persist-Query-Join.html#t:SelectOneMany">SelectOneMany</a> <a href="Database-Persist-GenericSql.html#t:SqlPersist">SqlPersist</a> one many)</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:Connection" class="def">Connection</a>  </p></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:ConnectionPool" class="def">ConnectionPool</a> = <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Data-Conduit-Pool.html#t:Pool">Pool</a> <a href="Database-Persist-GenericSql.html#t:Connection">Connection</a></p></div><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:Statement" class="def">Statement</a>  </p></div><div class="top"><p class="src"><a name="v:runSqlConn" class="def">runSqlConn</a> :: (<a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Data-Conduit.html#t:MonadBaseControl">MonadBaseControl</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/System-IO.html#t:IO">IO</a> m, <a href="/Library/Haskell/ghc-7.4.2/lib/transformers-0.3.0.0/doc/html/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m) =&gt; <a href="Database-Persist-GenericSql.html#t:SqlPersist">SqlPersist</a> m a -&gt; <a href="Database-Persist-GenericSql.html#t:Connection">Connection</a> -&gt; m a</p></div><div class="top"><p class="src"><a name="v:runSqlPool" class="def">runSqlPool</a> :: (<a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Data-Conduit.html#t:MonadBaseControl">MonadBaseControl</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/System-IO.html#t:IO">IO</a> m, <a href="/Library/Haskell/ghc-7.4.2/lib/transformers-0.3.0.0/doc/html/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m) =&gt; <a href="Database-Persist-GenericSql.html#t:SqlPersist">SqlPersist</a> m a -&gt; <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Data-Conduit-Pool.html#t:Pool">Pool</a> <a href="Database-Persist-GenericSql.html#t:Connection">Connection</a> -&gt; m a</p><div class="doc"><p>Get a connection from the pool, run the given action, and then return the
 connection to the pool.
</p></div></div><div class="top"><p class="src"><span class="keyword">newtype</span>  <a name="t:Key" class="def">Key</a> backend entity </p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Key" class="def">Key</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:unKey" class="def">unKey</a> :: <a href="Database-Persist-Store.html#t:PersistValue">PersistValue</a></dt><dd class="doc empty">&nbsp;</dd></dl><div class="clear"></div></div></td></tr></table></div><div class="subs instances"><p id="control.i:Key" class="caption collapser" onclick="toggleSection('i:Key')">Instances</p><div id="section.i:Key" class="show"><table><tr><td class="src"><a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-Eq.html#t:Eq">Eq</a> (<a href="Database-Persist-GenericSql.html#t:Key">Key</a> backend entity)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-Ord.html#t:Ord">Ord</a> (<a href="Database-Persist-GenericSql.html#t:Key">Key</a> backend entity)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Text-Read.html#t:Read">Read</a> (<a href="Database-Persist-GenericSql.html#t:Key">Key</a> backend entity)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Text-Show.html#t:Show">Show</a> (<a href="Database-Persist-GenericSql.html#t:Key">Key</a> backend entity)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Data-Aeson-Types.html#t:ToJSON">ToJSON</a> (<a href="Database-Persist-GenericSql.html#t:Key">Key</a> backend entity)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Data-Aeson-Types.html#t:FromJSON">FromJSON</a> (<a href="Database-Persist-GenericSql.html#t:Key">Key</a> backend entity)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Web-PathPieces.html#t:PathPiece">PathPiece</a> (<a href="Database-Persist-GenericSql.html#t:Key">Key</a> <a href="Database-Persist-GenericSql.html#t:SqlPersist">SqlPersist</a> entity)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Database-Persist-Store.html#t:PersistField">PersistField</a> (<a href="Database-Persist-GenericSql.html#t:Key">Key</a> backend entity)</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><h1 id="g:1">Raw SQL queries
</h1><div class="doc"><p>Although it covers most of the useful cases, <code>persistent</code>'s
 API may not be enough for some of your tasks.  May be you need
 some complex <code>JOIN</code> query, or a database-specific command
 needs to be issued.
</p><p>To issue raw SQL queries you could use <code><a href="Database-Persist-GenericSql-Raw.html#v:withStmt">withStmt</a></code>, which
 allows you to do anything you need.  However, its API is
 <em>low-level</em> and you need to parse each row yourself.  However,
 most of your complex queries will have simple results -- some
 of your entities and maybe a couple of derived columns.
</p><p>This is where <code><a href="Database-Persist-GenericSql.html#v:rawSql">rawSql</a></code> comes in.  Like <code><a href="Database-Persist-GenericSql-Raw.html#v:withStmt">withStmt</a></code>, you may
 issue <em>any</em> SQL query.  However, it does all the hard work for
 you and automatically parses the rows of the result.  It may
 return:
</p><ul><li> An <code><a href="Database-Persist-GenericSql.html#t:Entity">Entity</a></code>, that which <code>selectList</code> returns.
     All of your entity's fields are
     automatically parsed.
</li><li> A <code><code><a href="Database-Persist-GenericSql.html#t:Single">Single</a></code> a</code>, which is a single, raw column of type <code>a</code>.
     You may use a Haskell type (such as in your entity
     definitions), for example <code>Single Text</code> or <code>Single Int</code>,
     or you may get the raw column value with <code>Single
     <code><a href="Database-Persist-Store.html#t:PersistValue">PersistValue</a></code></code>.
</li><li> A tuple combining any of these (including other tuples).
     Using tuples allows you to return many entities in one
     query.
</li></ul><p>The only difference between issuing SQL queries with <code><a href="Database-Persist-GenericSql.html#v:rawSql">rawSql</a></code>
 and using other means is that we have an <em>entity selection</em>
 <em>placeholder</em>, the double question mark <code>??</code>.  It <em>must</em> be
 used whenever you want to <code>SELECT</code> an <code><a href="Database-Persist-GenericSql.html#t:Entity">Entity</a></code> from your
 query.  Here's a sample SQL query <code>sampleStmt</code> that may be
 issued:
</p><pre>
 SELECT ??, ??
 FROM &quot;Person&quot;, &quot;Likes&quot;, &quot;Object&quot;
 WHERE &quot;Person&quot;.id = &quot;Likes&quot;.&quot;personId&quot;
 AND &quot;Object&quot;.id = &quot;Likes&quot;.&quot;objectId&quot;
 AND &quot;Person&quot;.name LIKE ?
</pre><p>To use that query, you could say
</p><pre>
 do results &lt;- <code><a href="Database-Persist-GenericSql.html#v:rawSql">rawSql</a></code> sampleStmt [&quot;%Luke%&quot;]
    forM_ results $
      \( Entity personKey person
       , Entity objectKey object
       ) -&gt; do ...
</pre><p>Note that <code><a href="Database-Persist-GenericSql.html#v:rawSql">rawSql</a></code> knows how to replace the double question
 marks <code>??</code> because of the type of the <code>results</code>.
</p></div><div class="top"><p class="src"><a name="v:rawSql" class="def">rawSql</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="Database-Persist-GenericSql.html#t:RawSql">RawSql</a> a, <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Data-Conduit.html#t:MonadUnsafeIO">MonadUnsafeIO</a> m, <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Data-Conduit.html#t:MonadThrow">MonadThrow</a> m, <a href="/Library/Haskell/ghc-7.4.2/lib/transformers-0.3.0.0/doc/html/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Data-Conduit.html#t:MonadBaseControl">MonadBaseControl</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/System-IO.html#t:IO">IO</a> m, <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Control-Monad-Logger.html#t:MonadLogger">MonadLogger</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="/Library/Haskell/ghc-7.4.2/lib/text-0.11.2.3/doc/html/Data-Text-Internal.html#t:Text">Text</a></td><td class="doc"><p>SQL statement, possibly with placeholders.
</p></td></tr><tr><td class="src">-&gt; [<a href="Database-Persist-Store.html#t:PersistValue">PersistValue</a>]</td><td class="doc"><p>Values to fill the placeholders.
</p></td></tr><tr><td class="src">-&gt; <a href="Database-Persist-GenericSql.html#t:SqlPersist">SqlPersist</a> m [a]</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Execute a raw SQL statement and return its results as a
 list.
</p><p>If you're using <code><a href="Database-Persist-GenericSql.html#t:Entity">Entity</a></code><code>s</code> (which is quite likely), then you
 <em>must</em> use entity selection placeholders (double question
 mark, <code>??</code>).  These <code>??</code> placeholders are then replaced for
 the names of the columns that we need for your entities.
 You'll receive an error if you don't use the placeholders.
 Please see the <code><a href="Database-Persist-GenericSql.html#t:Entity">Entity</a></code><code>s</code> documentation for more details.
</p><p>You may put value placeholders (question marks, <code>?</code>) in your
 SQL query.  These placeholders are then replaced by the values
 you pass on the second parameter, already correctly escaped.
 You may want to use <code><a href="Database-Persist-Store.html#v:toPersistValue">toPersistValue</a></code> to help you constructing
 the placeholder values.
</p><p>Since you're giving a raw SQL statement, you don't get any
 guarantees regarding safety.  If <code><a href="Database-Persist-GenericSql.html#v:rawSql">rawSql</a></code> is not able to parse
 the results of your query back, then an exception is raised.
 However, most common problems are mitigated by using the
 entity selection placeholder <code>??</code>, and you shouldn't see any
 error at all if you're not using <code><a href="Database-Persist-GenericSql.html#t:Single">Single</a></code>.
</p></div></div><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:Entity" class="def">Entity</a> entity </p><div class="doc"><p>Datatype that represents an entity, with both its key and
 its Haskell representation.
</p><p>When using the an SQL-based backend (such as SQLite or
 PostgreSQL), an <code><a href="Database-Persist-GenericSql.html#t:Entity">Entity</a></code> may take any number of columns
 depending on how many fields it has. In order to reconstruct
 your entity on the Haskell side, <code>persistent</code> needs all of
 your entity columns and in the right order.  Note that you
 don't need to worry about this when using <code>persistent</code>'s API
 since everything is handled correctly behind the scenes.
</p><p>However, if you want to issue a raw SQL command that returns
 an <code><a href="Database-Persist-GenericSql.html#t:Entity">Entity</a></code>, then you have to be careful with the column
 order.  While you could use <code>SELECT Entity.* WHERE ...</code> and
 that would work most of the time, there are times when the
 order of the columns on your database is different from the
 order that <code>persistent</code> expects (for example, if you add a new
 field in the middle of you entity definition and then use the
 migration code -- <code>persistent</code> will expect the column to be in
 the middle, but your DBMS will put it as the last column).
 So, instead of using a query like the one above, you may use
 <code><a href="Database-Persist-GenericSql.html#v:rawSql">rawSql</a></code> (from the
 <a href="Database-Persist-GenericSql.html">Database.Persist.GenericSql</a> module) with its /entity
 selection placeholder/ (a double question mark <code>??</code>).  Using
 <code>rawSql</code> the query above must be written as <code>SELECT ??  WHERE
 ..</code>.  Then <code>rawSql</code> will replace <code>??</code> with the list of all
 columns that we need from your entity in the right order.  If
 your query returns two entities (i.e. <code>(Entity backend a,
 Entity backend b)</code>), then you must you use <code>SELECT ??, ??
 WHERE ...</code>, and so on.
</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Entity" class="def">Entity</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:entityKey" class="def">entityKey</a> :: <a href="Database-Persist-GenericSql.html#t:Key">Key</a> (<a href="Database-Persist-Store.html#t:PersistEntityBackend">PersistEntityBackend</a> entity) entity</dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:entityVal" class="def">entityVal</a> :: entity</dt><dd class="doc empty">&nbsp;</dd></dl><div class="clear"></div></div></td></tr></table></div><div class="subs instances"><p id="control.i:Entity" class="caption collapser" onclick="toggleSection('i:Entity')">Instances</p><div id="section.i:Entity" class="show"><table><tr><td class="src"><a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-Eq.html#t:Eq">Eq</a> entity =&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-Eq.html#t:Eq">Eq</a> (<a href="Database-Persist-GenericSql.html#t:Entity">Entity</a> entity)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-Ord.html#t:Ord">Ord</a> entity =&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-Ord.html#t:Ord">Ord</a> (<a href="Database-Persist-GenericSql.html#t:Entity">Entity</a> entity)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Text-Read.html#t:Read">Read</a> entity =&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Text-Read.html#t:Read">Read</a> (<a href="Database-Persist-GenericSql.html#t:Entity">Entity</a> entity)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Text-Show.html#t:Show">Show</a> entity =&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Text-Show.html#t:Show">Show</a> (<a href="Database-Persist-GenericSql.html#t:Entity">Entity</a> entity)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Database-Persist-Store.html#t:PersistEntity">PersistEntity</a> a =&gt; <a href="Database-Persist-GenericSql.html#t:RawSql">RawSql</a> (<a href="Database-Persist-GenericSql.html#t:Entity">Entity</a> a)</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">newtype</span>  <a name="t:Single" class="def">Single</a> a </p><div class="doc"><p>A single column (see <code><a href="Database-Persist-GenericSql.html#v:rawSql">rawSql</a></code>).  Any <code><a href="Database-Persist-Store.html#t:PersistField">PersistField</a></code> may be
 used here, including <code><a href="Database-Persist-Store.html#t:PersistValue">PersistValue</a></code> (which does not do any
 processing).
</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Single" class="def">Single</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:unSingle" class="def">unSingle</a> :: a</dt><dd class="doc empty">&nbsp;</dd></dl><div class="clear"></div></div></td></tr></table></div><div class="subs instances"><p id="control.i:Single" class="caption collapser" onclick="toggleSection('i:Single')">Instances</p><div id="section.i:Single" class="show"><table><tr><td class="src"><a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-Eq.html#t:Eq">Eq</a> a =&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-Eq.html#t:Eq">Eq</a> (<a href="Database-Persist-GenericSql.html#t:Single">Single</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-Ord.html#t:Ord">Ord</a> a =&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-Ord.html#t:Ord">Ord</a> (<a href="Database-Persist-GenericSql.html#t:Single">Single</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Text-Read.html#t:Read">Read</a> a =&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Text-Read.html#t:Read">Read</a> (<a href="Database-Persist-GenericSql.html#t:Single">Single</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Text-Show.html#t:Show">Show</a> a =&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Text-Show.html#t:Show">Show</a> (<a href="Database-Persist-GenericSql.html#t:Single">Single</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Database-Persist-Store.html#t:PersistField">PersistField</a> a =&gt; <a href="Database-Persist-GenericSql.html#t:RawSql">RawSql</a> (<a href="Database-Persist-GenericSql.html#t:Single">Single</a> a)</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">class</span>  <a name="t:RawSql" class="def">RawSql</a> a </p><div class="doc"><p>Class for data types that may be retrived from a <code><a href="Database-Persist-GenericSql.html#v:rawSql">rawSql</a></code>
 query.
</p></div><div class="subs instances"><p id="control.i:RawSql" class="caption collapser" onclick="toggleSection('i:RawSql')">Instances</p><div id="section.i:RawSql" class="show"><table><tr><td class="src"><a href="Database-Persist-GenericSql.html#t:RawSql">RawSql</a> a =&gt; <a href="Database-Persist-GenericSql.html#t:RawSql">RawSql</a> (<a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-Maybe.html#t:Maybe">Maybe</a> a)</td><td class="doc"><p>Since 1.0.1.
</p></td></tr><tr><td class="src"><a href="Database-Persist-Store.html#t:PersistEntity">PersistEntity</a> a =&gt; <a href="Database-Persist-GenericSql.html#t:RawSql">RawSql</a> (<a href="Database-Persist-GenericSql.html#t:Entity">Entity</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Database-Persist-Store.html#t:PersistField">PersistField</a> a =&gt; <a href="Database-Persist-GenericSql.html#t:RawSql">RawSql</a> (<a href="Database-Persist-GenericSql.html#t:Single">Single</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="Database-Persist-GenericSql.html#t:RawSql">RawSql</a> a, <a href="Database-Persist-GenericSql.html#t:RawSql">RawSql</a> b) =&gt; <a href="Database-Persist-GenericSql.html#t:RawSql">RawSql</a> (a, b)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="Database-Persist-GenericSql.html#t:RawSql">RawSql</a> a, <a href="Database-Persist-GenericSql.html#t:RawSql">RawSql</a> b, <a href="Database-Persist-GenericSql.html#t:RawSql">RawSql</a> c) =&gt; <a href="Database-Persist-GenericSql.html#t:RawSql">RawSql</a> (a, b, c)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="Database-Persist-GenericSql.html#t:RawSql">RawSql</a> a, <a href="Database-Persist-GenericSql.html#t:RawSql">RawSql</a> b, <a href="Database-Persist-GenericSql.html#t:RawSql">RawSql</a> c, <a href="Database-Persist-GenericSql.html#t:RawSql">RawSql</a> d) =&gt; <a href="Database-Persist-GenericSql.html#t:RawSql">RawSql</a> (a, b, c, d)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="Database-Persist-GenericSql.html#t:RawSql">RawSql</a> a, <a href="Database-Persist-GenericSql.html#t:RawSql">RawSql</a> b, <a href="Database-Persist-GenericSql.html#t:RawSql">RawSql</a> c, <a href="Database-Persist-GenericSql.html#t:RawSql">RawSql</a> d, <a href="Database-Persist-GenericSql.html#t:RawSql">RawSql</a> e) =&gt; <a href="Database-Persist-GenericSql.html#t:RawSql">RawSql</a> (a, b, c, d, e)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="Database-Persist-GenericSql.html#t:RawSql">RawSql</a> a, <a href="Database-Persist-GenericSql.html#t:RawSql">RawSql</a> b, <a href="Database-Persist-GenericSql.html#t:RawSql">RawSql</a> c, <a href="Database-Persist-GenericSql.html#t:RawSql">RawSql</a> d, <a href="Database-Persist-GenericSql.html#t:RawSql">RawSql</a> e, <a href="Database-Persist-GenericSql.html#t:RawSql">RawSql</a> f) =&gt; <a href="Database-Persist-GenericSql.html#t:RawSql">RawSql</a> (a, b, c, d, e, f)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="Database-Persist-GenericSql.html#t:RawSql">RawSql</a> a, <a href="Database-Persist-GenericSql.html#t:RawSql">RawSql</a> b, <a href="Database-Persist-GenericSql.html#t:RawSql">RawSql</a> c, <a href="Database-Persist-GenericSql.html#t:RawSql">RawSql</a> d, <a href="Database-Persist-GenericSql.html#t:RawSql">RawSql</a> e, <a href="Database-Persist-GenericSql.html#t:RawSql">RawSql</a> f, <a href="Database-Persist-GenericSql.html#t:RawSql">RawSql</a> g) =&gt; <a href="Database-Persist-GenericSql.html#t:RawSql">RawSql</a> (a, b, c, d, e, f, g)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="Database-Persist-GenericSql.html#t:RawSql">RawSql</a> a, <a href="Database-Persist-GenericSql.html#t:RawSql">RawSql</a> b, <a href="Database-Persist-GenericSql.html#t:RawSql">RawSql</a> c, <a href="Database-Persist-GenericSql.html#t:RawSql">RawSql</a> d, <a href="Database-Persist-GenericSql.html#t:RawSql">RawSql</a> e, <a href="Database-Persist-GenericSql.html#t:RawSql">RawSql</a> f, <a href="Database-Persist-GenericSql.html#t:RawSql">RawSql</a> g, <a href="Database-Persist-GenericSql.html#t:RawSql">RawSql</a> h) =&gt; <a href="Database-Persist-GenericSql.html#t:RawSql">RawSql</a> (a, b, c, d, e, f, g, h)</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><h1 id="g:2">Migrations
</h1><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Migration" class="def">Migration</a> m = <a href="/Library/Haskell/ghc-7.4.2/lib/mtl-2.1.2/doc/html/Control-Monad-Writer-Lazy.html#t:WriterT">WriterT</a> [<a href="/Library/Haskell/ghc-7.4.2/lib/text-0.11.2.3/doc/html/Data-Text-Internal.html#t:Text">Text</a>] (<a href="/Library/Haskell/ghc-7.4.2/lib/mtl-2.1.2/doc/html/Control-Monad-Writer-Lazy.html#t:WriterT">WriterT</a> CautiousMigration m) <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Tuple.html#t:-40--41-">()</a></p></div><div class="top"><p class="src"><a name="v:parseMigration" class="def">parseMigration</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Database-Persist-GenericSql.html#t:Migration">Migration</a> m -&gt; m (<a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-Either.html#t:Either">Either</a> [<a href="/Library/Haskell/ghc-7.4.2/lib/text-0.11.2.3/doc/html/Data-Text-Internal.html#t:Text">Text</a>] CautiousMigration)</p></div><div class="top"><p class="src"><a name="v:parseMigration-39-" class="def">parseMigration'</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Database-Persist-GenericSql.html#t:Migration">Migration</a> m -&gt; m CautiousMigration</p></div><div class="top"><p class="src"><a name="v:printMigration" class="def">printMigration</a> :: (<a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Data-Conduit.html#t:MonadBaseControl">MonadBaseControl</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/System-IO.html#t:IO">IO</a> m, <a href="/Library/Haskell/ghc-7.4.2/lib/transformers-0.3.0.0/doc/html/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m) =&gt; <a href="Database-Persist-GenericSql.html#t:Migration">Migration</a> (<a href="Database-Persist-GenericSql.html#t:SqlPersist">SqlPersist</a> m) -&gt; <a href="Database-Persist-GenericSql.html#t:SqlPersist">SqlPersist</a> m <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Tuple.html#t:-40--41-">()</a></p></div><div class="top"><p class="src"><a name="v:getMigration" class="def">getMigration</a> :: (<a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Data-Conduit.html#t:MonadBaseControl">MonadBaseControl</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/System-IO.html#t:IO">IO</a> m, <a href="/Library/Haskell/ghc-7.4.2/lib/transformers-0.3.0.0/doc/html/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m) =&gt; <a href="Database-Persist-GenericSql.html#t:Migration">Migration</a> (<a href="Database-Persist-GenericSql.html#t:SqlPersist">SqlPersist</a> m) -&gt; <a href="Database-Persist-GenericSql.html#t:SqlPersist">SqlPersist</a> m [Sql]</p></div><div class="top"><p class="src"><a name="v:runMigration" class="def">runMigration</a> :: (<a href="/Library/Haskell/ghc-7.4.2/lib/transformers-0.3.0.0/doc/html/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Data-Conduit.html#t:MonadBaseControl">MonadBaseControl</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/System-IO.html#t:IO">IO</a> m, <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Control-Monad-Logger.html#t:MonadLogger">MonadLogger</a> m) =&gt; <a href="Database-Persist-GenericSql.html#t:Migration">Migration</a> (<a href="Database-Persist-GenericSql.html#t:SqlPersist">SqlPersist</a> m) -&gt; <a href="Database-Persist-GenericSql.html#t:SqlPersist">SqlPersist</a> m <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Tuple.html#t:-40--41-">()</a></p></div><div class="top"><p class="src"><a name="v:runMigrationSilent" class="def">runMigrationSilent</a> :: (<a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Data-Conduit.html#t:MonadBaseControl">MonadBaseControl</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/System-IO.html#t:IO">IO</a> m, <a href="/Library/Haskell/ghc-7.4.2/lib/transformers-0.3.0.0/doc/html/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Control-Monad-Logger.html#t:MonadLogger">MonadLogger</a> m) =&gt; <a href="Database-Persist-GenericSql.html#t:Migration">Migration</a> (<a href="Database-Persist-GenericSql.html#t:SqlPersist">SqlPersist</a> m) -&gt; <a href="Database-Persist-GenericSql.html#t:SqlPersist">SqlPersist</a> m [<a href="/Library/Haskell/ghc-7.4.2/lib/text-0.11.2.3/doc/html/Data-Text-Internal.html#t:Text">Text</a>]</p><div class="doc"><p>Same as <code><a href="Database-Persist-GenericSql.html#v:runMigration">runMigration</a></code>, but returns a list of the SQL commands executed
 instead of printing them to stderr.
</p></div></div><div class="top"><p class="src"><a name="v:runMigrationUnsafe" class="def">runMigrationUnsafe</a> :: (<a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Data-Conduit.html#t:MonadBaseControl">MonadBaseControl</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/System-IO.html#t:IO">IO</a> m, <a href="/Library/Haskell/ghc-7.4.2/lib/transformers-0.3.0.0/doc/html/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Control-Monad-Logger.html#t:MonadLogger">MonadLogger</a> m) =&gt; <a href="Database-Persist-GenericSql.html#t:Migration">Migration</a> (<a href="Database-Persist-GenericSql.html#t:SqlPersist">SqlPersist</a> m) -&gt; <a href="Database-Persist-GenericSql.html#t:SqlPersist">SqlPersist</a> m <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Tuple.html#t:-40--41-">()</a></p></div><div class="top"><p class="src"><a name="v:migrate" class="def">migrate</a> :: (<a href="/Library/Haskell/ghc-7.4.2/lib/transformers-0.3.0.0/doc/html/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Data-Conduit.html#t:MonadBaseControl">MonadBaseControl</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/System-IO.html#t:IO">IO</a> m, <a href="Database-Persist-Store.html#t:PersistEntity">PersistEntity</a> val) =&gt; [<a href="Database-Persist-EntityDef.html#t:EntityDef">EntityDef</a>] -&gt; val -&gt; <a href="Database-Persist-GenericSql.html#t:Migration">Migration</a> (<a href="Database-Persist-GenericSql.html#t:SqlPersist">SqlPersist</a> m)</p></div><div class="top"><p class="src"><a name="v:commit" class="def">commit</a> :: <a href="/Library/Haskell/ghc-7.4.2/lib/transformers-0.3.0.0/doc/html/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; <a href="Database-Persist-GenericSql.html#t:SqlPersist">SqlPersist</a> m <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Tuple.html#t:-40--41-">()</a></p><div class="doc"><p>Perform a database commit.
</p></div></div><div class="top"><p class="src"><a name="v:rollback" class="def">rollback</a> :: <a href="/Library/Haskell/ghc-7.4.2/lib/transformers-0.3.0.0/doc/html/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; <a href="Database-Persist-GenericSql.html#t:SqlPersist">SqlPersist</a> m <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Tuple.html#t:-40--41-">()</a></p><div class="doc"><p>Perform a database rollback.
</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.11.0</p></div></body></html>