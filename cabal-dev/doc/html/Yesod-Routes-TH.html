<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Yesod.Routes.TH</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Yesod-Routes-TH.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">yesod-routes-1.1.1.1: Efficient routing for Yesod.</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr></table><p class="caption">Yesod.Routes.TH</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Data types
</a><ul><li><a href="#g:2">Helper functions
</a></li></ul></li><li><a href="#g:3">Functions
</a><ul><li><a href="#g:4">RenderRoute
</a></li><li><a href="#g:5">Dispatch
</a></li><li><a href="#g:6">Dispatch
</a></li></ul></li></ul></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span>  <a href="#t:Resource">Resource</a> typ = <a href="#v:Resource">Resource</a> {<ul class="subs"><li><a href="#v:resourceName">resourceName</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-String.html#t:String">String</a></li><li><a href="#v:resourcePieces">resourcePieces</a> :: [(<a href="Yesod-Routes-TH.html#t:CheckOverlap">CheckOverlap</a>, <a href="Yesod-Routes-TH.html#t:Piece">Piece</a> typ)]</li><li><a href="#v:resourceDispatch">resourceDispatch</a> :: <a href="Yesod-Routes-TH.html#t:Dispatch">Dispatch</a> typ</li></ul>}</li><li class="src short"><span class="keyword">data</span>  <a href="#t:ResourceTree">ResourceTree</a> typ<ul class="subs"><li>= <a href="#v:ResourceLeaf">ResourceLeaf</a> (<a href="Yesod-Routes-TH.html#t:Resource">Resource</a> typ)  </li><li>| <a href="#v:ResourceParent">ResourceParent</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-String.html#t:String">String</a> [(<a href="Yesod-Routes-TH.html#t:CheckOverlap">CheckOverlap</a>, <a href="Yesod-Routes-TH.html#t:Piece">Piece</a> typ)] [<a href="Yesod-Routes-TH.html#t:ResourceTree">ResourceTree</a> typ]  </li></ul></li><li class="src short"><span class="keyword">data</span>  <a href="#t:Piece">Piece</a> typ<ul class="subs"><li>= <a href="#v:Static">Static</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-String.html#t:String">String</a>  </li><li>| <a href="#v:Dynamic">Dynamic</a> typ  </li></ul></li><li class="src short"><span class="keyword">data</span>  <a href="#t:Dispatch">Dispatch</a> typ<ul class="subs"><li>= <a href="#v:Methods">Methods</a> { <ul class="subs"><li><a href="#v:methodsMulti">methodsMulti</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-Maybe.html#t:Maybe">Maybe</a> typ</li><li><a href="#v:methodsMethods">methodsMethods</a> :: [<a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-String.html#t:String">String</a>]</li></ul> }</li><li>| <a href="#v:Subsite">Subsite</a> { <ul class="subs"><li><a href="#v:subsiteType">subsiteType</a> :: typ</li><li><a href="#v:subsiteFunc">subsiteFunc</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-String.html#t:String">String</a></li></ul> }</li></ul></li><li class="src short"><span class="keyword">type</span> <a href="#t:CheckOverlap">CheckOverlap</a> = <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:resourceMulti">resourceMulti</a> ::  <a href="Yesod-Routes-TH.html#t:Resource">Resource</a> typ -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-Maybe.html#t:Maybe">Maybe</a> typ</li><li class="src short"><a href="#v:resourceTreePieces">resourceTreePieces</a> ::  <a href="Yesod-Routes-TH.html#t:ResourceTree">ResourceTree</a> typ -&gt; [(<a href="Yesod-Routes-TH.html#t:CheckOverlap">CheckOverlap</a>, <a href="Yesod-Routes-TH.html#t:Piece">Piece</a> typ)]</li><li class="src short"><a href="#v:resourceTreeName">resourceTreeName</a> ::  <a href="Yesod-Routes-TH.html#t:ResourceTree">ResourceTree</a> typ -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-String.html#t:String">String</a></li><li class="src short"><a href="#v:mkRenderRouteInstance">mkRenderRouteInstance</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/template-haskell-2.7.0.0/Language-Haskell-TH-Syntax.html#t:Type">Type</a> -&gt; [<a href="Yesod-Routes-TH.html#t:ResourceTree">ResourceTree</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/template-haskell-2.7.0.0/Language-Haskell-TH-Syntax.html#t:Type">Type</a>] -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/template-haskell-2.7.0.0/Language-Haskell-TH-Syntax.html#t:Q">Q</a> [<a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/template-haskell-2.7.0.0/Language-Haskell-TH-Syntax.html#t:Dec">Dec</a>]</li><li class="src short"><a href="#v:mkRenderRouteInstance-39-">mkRenderRouteInstance'</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/template-haskell-2.7.0.0/Language-Haskell-TH-Syntax.html#t:Cxt">Cxt</a> -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/template-haskell-2.7.0.0/Language-Haskell-TH-Syntax.html#t:Type">Type</a> -&gt; [<a href="Yesod-Routes-TH.html#t:ResourceTree">ResourceTree</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/template-haskell-2.7.0.0/Language-Haskell-TH-Syntax.html#t:Type">Type</a>] -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/template-haskell-2.7.0.0/Language-Haskell-TH-Syntax.html#t:Q">Q</a> [<a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/template-haskell-2.7.0.0/Language-Haskell-TH-Syntax.html#t:Dec">Dec</a>]</li><li class="src short"><a href="#v:mkRouteCons">mkRouteCons</a> :: [<a href="Yesod-Routes-TH.html#t:ResourceTree">ResourceTree</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/template-haskell-2.7.0.0/Language-Haskell-TH-Syntax.html#t:Type">Type</a>] -&gt; ([<a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/template-haskell-2.7.0.0/Language-Haskell-TH-Syntax.html#t:Con">Con</a>], [<a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/template-haskell-2.7.0.0/Language-Haskell-TH-Syntax.html#t:Dec">Dec</a>])</li><li class="src short"><a href="#v:mkRenderRouteClauses">mkRenderRouteClauses</a> :: [<a href="Yesod-Routes-TH.html#t:ResourceTree">ResourceTree</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/template-haskell-2.7.0.0/Language-Haskell-TH-Syntax.html#t:Type">Type</a>] -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/template-haskell-2.7.0.0/Language-Haskell-TH-Syntax.html#t:Q">Q</a> [<a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/template-haskell-2.7.0.0/Language-Haskell-TH-Syntax.html#t:Clause">Clause</a>]</li><li class="src short"><a href="#v:mkDispatchClause">mkDispatchClause</a> ::  <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/template-haskell-2.7.0.0/Language-Haskell-TH-Syntax.html#t:Q">Q</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/template-haskell-2.7.0.0/Language-Haskell-TH-Syntax.html#t:Exp">Exp</a> -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/template-haskell-2.7.0.0/Language-Haskell-TH-Syntax.html#t:Q">Q</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/template-haskell-2.7.0.0/Language-Haskell-TH-Syntax.html#t:Exp">Exp</a> -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/template-haskell-2.7.0.0/Language-Haskell-TH-Syntax.html#t:Q">Q</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/template-haskell-2.7.0.0/Language-Haskell-TH-Syntax.html#t:Exp">Exp</a> -&gt; [<a href="Yesod-Routes-TH.html#t:ResourceTree">ResourceTree</a> a] -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/template-haskell-2.7.0.0/Language-Haskell-TH-Syntax.html#t:Q">Q</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/template-haskell-2.7.0.0/Language-Haskell-TH-Syntax.html#t:Clause">Clause</a></li></ul></div><div id="interface"><h1 id="g:1">Data types
</h1><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:Resource" class="def">Resource</a> typ </p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Resource" class="def">Resource</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:resourceName" class="def">resourceName</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-String.html#t:String">String</a></dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:resourcePieces" class="def">resourcePieces</a> :: [(<a href="Yesod-Routes-TH.html#t:CheckOverlap">CheckOverlap</a>, <a href="Yesod-Routes-TH.html#t:Piece">Piece</a> typ)]</dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:resourceDispatch" class="def">resourceDispatch</a> :: <a href="Yesod-Routes-TH.html#t:Dispatch">Dispatch</a> typ</dt><dd class="doc empty">&nbsp;</dd></dl><div class="clear"></div></div></td></tr></table></div><div class="subs instances"><p id="control.i:Resource" class="caption collapser" onclick="toggleSection('i:Resource')">Instances</p><div id="section.i:Resource" class="show"><table><tr><td class="src"><a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad.html#t:Functor">Functor</a> <a href="Yesod-Routes-TH.html#t:Resource">Resource</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Text-Show.html#t:Show">Show</a> typ =&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Text-Show.html#t:Show">Show</a> (<a href="Yesod-Routes-TH.html#t:Resource">Resource</a> typ)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/template-haskell-2.7.0.0/Language-Haskell-TH-Syntax.html#t:Lift">Lift</a> t =&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/template-haskell-2.7.0.0/Language-Haskell-TH-Syntax.html#t:Lift">Lift</a> (<a href="Yesod-Routes-TH.html#t:Resource">Resource</a> t)</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:ResourceTree" class="def">ResourceTree</a> typ </p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:ResourceLeaf" class="def">ResourceLeaf</a> (<a href="Yesod-Routes-TH.html#t:Resource">Resource</a> typ)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:ResourceParent" class="def">ResourceParent</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-String.html#t:String">String</a> [(<a href="Yesod-Routes-TH.html#t:CheckOverlap">CheckOverlap</a>, <a href="Yesod-Routes-TH.html#t:Piece">Piece</a> typ)] [<a href="Yesod-Routes-TH.html#t:ResourceTree">ResourceTree</a> typ]</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:ResourceTree" class="caption collapser" onclick="toggleSection('i:ResourceTree')">Instances</p><div id="section.i:ResourceTree" class="show"><table><tr><td class="src"><a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad.html#t:Functor">Functor</a> <a href="Yesod-Routes-TH.html#t:ResourceTree">ResourceTree</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/template-haskell-2.7.0.0/Language-Haskell-TH-Syntax.html#t:Lift">Lift</a> t =&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/template-haskell-2.7.0.0/Language-Haskell-TH-Syntax.html#t:Lift">Lift</a> (<a href="Yesod-Routes-TH.html#t:ResourceTree">ResourceTree</a> t)</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:Piece" class="def">Piece</a> typ </p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Static" class="def">Static</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-String.html#t:String">String</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:Dynamic" class="def">Dynamic</a> typ</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:Piece" class="caption collapser" onclick="toggleSection('i:Piece')">Instances</p><div id="section.i:Piece" class="show"><table><tr><td class="src"><a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad.html#t:Functor">Functor</a> <a href="Yesod-Routes-TH.html#t:Piece">Piece</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Text-Show.html#t:Show">Show</a> typ =&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Text-Show.html#t:Show">Show</a> (<a href="Yesod-Routes-TH.html#t:Piece">Piece</a> typ)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/template-haskell-2.7.0.0/Language-Haskell-TH-Syntax.html#t:Lift">Lift</a> t =&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/template-haskell-2.7.0.0/Language-Haskell-TH-Syntax.html#t:Lift">Lift</a> (<a href="Yesod-Routes-TH.html#t:Piece">Piece</a> t)</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:Dispatch" class="def">Dispatch</a> typ </p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Methods" class="def">Methods</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:methodsMulti" class="def">methodsMulti</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-Maybe.html#t:Maybe">Maybe</a> typ</dt><dd class="doc"><p>type of the multi piece at the end
</p></dd><dt class="src"><a name="v:methodsMethods" class="def">methodsMethods</a> :: [<a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-String.html#t:String">String</a>]</dt><dd class="doc"><p>supported request methods
</p></dd></dl><div class="clear"></div></div></td></tr><tr><td class="src"><a name="v:Subsite" class="def">Subsite</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:subsiteType" class="def">subsiteType</a> :: typ</dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:subsiteFunc" class="def">subsiteFunc</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-String.html#t:String">String</a></dt><dd class="doc empty">&nbsp;</dd></dl><div class="clear"></div></div></td></tr></table></div><div class="subs instances"><p id="control.i:Dispatch" class="caption collapser" onclick="toggleSection('i:Dispatch')">Instances</p><div id="section.i:Dispatch" class="show"><table><tr><td class="src"><a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad.html#t:Functor">Functor</a> <a href="Yesod-Routes-TH.html#t:Dispatch">Dispatch</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Text-Show.html#t:Show">Show</a> typ =&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Text-Show.html#t:Show">Show</a> (<a href="Yesod-Routes-TH.html#t:Dispatch">Dispatch</a> typ)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/template-haskell-2.7.0.0/Language-Haskell-TH-Syntax.html#t:Lift">Lift</a> t =&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/template-haskell-2.7.0.0/Language-Haskell-TH-Syntax.html#t:Lift">Lift</a> (<a href="Yesod-Routes-TH.html#t:Dispatch">Dispatch</a> t)</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:CheckOverlap" class="def">CheckOverlap</a> = <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-Bool.html#t:Bool">Bool</a></p></div><h2 id="g:2">Helper functions
</h2><div class="top"><p class="src"><a name="v:resourceMulti" class="def">resourceMulti</a> ::  <a href="Yesod-Routes-TH.html#t:Resource">Resource</a> typ -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-Maybe.html#t:Maybe">Maybe</a> typ</p></div><div class="top"><p class="src"><a name="v:resourceTreePieces" class="def">resourceTreePieces</a> ::  <a href="Yesod-Routes-TH.html#t:ResourceTree">ResourceTree</a> typ -&gt; [(<a href="Yesod-Routes-TH.html#t:CheckOverlap">CheckOverlap</a>, <a href="Yesod-Routes-TH.html#t:Piece">Piece</a> typ)]</p></div><div class="top"><p class="src"><a name="v:resourceTreeName" class="def">resourceTreeName</a> ::  <a href="Yesod-Routes-TH.html#t:ResourceTree">ResourceTree</a> typ -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-String.html#t:String">String</a></p></div><h1 id="g:3">Functions
</h1><h2 id="g:4">RenderRoute
</h2><div class="top"><p class="src"><a name="v:mkRenderRouteInstance" class="def">mkRenderRouteInstance</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/template-haskell-2.7.0.0/Language-Haskell-TH-Syntax.html#t:Type">Type</a> -&gt; [<a href="Yesod-Routes-TH.html#t:ResourceTree">ResourceTree</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/template-haskell-2.7.0.0/Language-Haskell-TH-Syntax.html#t:Type">Type</a>] -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/template-haskell-2.7.0.0/Language-Haskell-TH-Syntax.html#t:Q">Q</a> [<a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/template-haskell-2.7.0.0/Language-Haskell-TH-Syntax.html#t:Dec">Dec</a>]</p><div class="doc"><p>Generate the <code><a href="Yesod-Routes-Class.html#t:RenderRoute">RenderRoute</a></code> instance.
</p><p>This includes both the <code><a href="Yesod-Routes-Class.html#t:Route">Route</a></code> associated type and the
 <code><a href="Yesod-Routes-Class.html#v:renderRoute">renderRoute</a></code> method.  This function uses both <code><a href="Yesod-Routes-TH.html#v:mkRouteCons">mkRouteCons</a></code> and
 <code>mkRenderRouteClasses</code>.
</p></div></div><div class="top"><p class="src"><a name="v:mkRenderRouteInstance-39-" class="def">mkRenderRouteInstance'</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/template-haskell-2.7.0.0/Language-Haskell-TH-Syntax.html#t:Cxt">Cxt</a> -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/template-haskell-2.7.0.0/Language-Haskell-TH-Syntax.html#t:Type">Type</a> -&gt; [<a href="Yesod-Routes-TH.html#t:ResourceTree">ResourceTree</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/template-haskell-2.7.0.0/Language-Haskell-TH-Syntax.html#t:Type">Type</a>] -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/template-haskell-2.7.0.0/Language-Haskell-TH-Syntax.html#t:Q">Q</a> [<a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/template-haskell-2.7.0.0/Language-Haskell-TH-Syntax.html#t:Dec">Dec</a>]</p><div class="doc"><p>A more general version of <code><a href="Yesod-Routes-TH.html#v:mkRenderRouteInstance">mkRenderRouteInstance</a></code> which takes an
 additional context.
</p></div></div><div class="top"><p class="src"><a name="v:mkRouteCons" class="def">mkRouteCons</a> :: [<a href="Yesod-Routes-TH.html#t:ResourceTree">ResourceTree</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/template-haskell-2.7.0.0/Language-Haskell-TH-Syntax.html#t:Type">Type</a>] -&gt; ([<a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/template-haskell-2.7.0.0/Language-Haskell-TH-Syntax.html#t:Con">Con</a>], [<a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/template-haskell-2.7.0.0/Language-Haskell-TH-Syntax.html#t:Dec">Dec</a>])</p><div class="doc"><p>Generate the constructors of a route data type.
</p></div></div><div class="top"><p class="src"><a name="v:mkRenderRouteClauses" class="def">mkRenderRouteClauses</a> :: [<a href="Yesod-Routes-TH.html#t:ResourceTree">ResourceTree</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/template-haskell-2.7.0.0/Language-Haskell-TH-Syntax.html#t:Type">Type</a>] -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/template-haskell-2.7.0.0/Language-Haskell-TH-Syntax.html#t:Q">Q</a> [<a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/template-haskell-2.7.0.0/Language-Haskell-TH-Syntax.html#t:Clause">Clause</a>]</p><div class="doc"><p>Clauses for the <code><a href="Yesod-Routes-Class.html#v:renderRoute">renderRoute</a></code> method.
</p></div></div><h2 id="g:5">Dispatch
</h2><h2 id="g:6">Dispatch
</h2><div class="top"><p class="src"><a name="v:mkDispatchClause" class="def">mkDispatchClause</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/template-haskell-2.7.0.0/Language-Haskell-TH-Syntax.html#t:Q">Q</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/template-haskell-2.7.0.0/Language-Haskell-TH-Syntax.html#t:Exp">Exp</a></td><td class="doc"><p>runHandler function
</p></td></tr><tr><td class="src">-&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/template-haskell-2.7.0.0/Language-Haskell-TH-Syntax.html#t:Q">Q</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/template-haskell-2.7.0.0/Language-Haskell-TH-Syntax.html#t:Exp">Exp</a></td><td class="doc"><p>dispatcher function
</p></td></tr><tr><td class="src">-&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/template-haskell-2.7.0.0/Language-Haskell-TH-Syntax.html#t:Q">Q</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/template-haskell-2.7.0.0/Language-Haskell-TH-Syntax.html#t:Exp">Exp</a></td><td class="doc"><p>fixHandler function
</p></td></tr><tr><td class="src">-&gt; [<a href="Yesod-Routes-TH.html#t:ResourceTree">ResourceTree</a> a]</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/template-haskell-2.7.0.0/Language-Haskell-TH-Syntax.html#t:Q">Q</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/template-haskell-2.7.0.0/Language-Haskell-TH-Syntax.html#t:Clause">Clause</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>This function will generate a single clause that will address all
 your routing needs. It takes four arguments. The fourth (a list of
 <code><a href="Yesod-Routes-TH.html#t:Resource">Resource</a></code>s) is self-explanatory. We'll discuss the first
 three. But first, let's cover the terminology.
</p><p>Dispatching involves a master type and a sub type. When you dispatch to the
 top level type, master and sub are the same. Each time to dispatch to
 another subsite, the sub changes. This requires two changes:
</p><ul><li> Getting the new sub value. This is handled via <code><a href="Yesod-Routes-TH.html#v:subsiteFunc">subsiteFunc</a></code>.
</li><li> Figure out a way to convert sub routes to the original master route. To
 address this, we keep a toMaster function, and each time we dispatch to a
 new subsite, we compose it with the constructor for that subsite.
</li></ul><p>Dispatching acts on two different components: the request method and a list
 of path pieces. If we cannot match the path pieces, we need to return a 404
 response. If the path pieces match, but the method is not supported, we need
 to return a 405 response.
</p><p>The final result of dispatch is going to be an application type. A simple
 example would be the WAI Application type. However, our handler functions
 will need more input: the master/subsite, the toMaster function, and the
 type-safe route. Therefore, we need to have another type, the handler type,
 and a function that turns a handler into an application, i.e.
</p><pre> runHandler :: handler sub master -&gt; master -&gt; sub -&gt; Route sub -&gt; (Route sub -&gt; Route master) -&gt; app
</pre><p>This is the first argument to our function. Note that this will almost
 certainly need to be a method of a typeclass, since it will want to behave
 differently based on the subsite.
</p><p>Note that the 404 response passed in is an application, while the 405
 response is a handler, since the former can't be passed the type-safe
 route.
</p><p>In the case of a subsite, we don't directly deal with a handler function.
 Instead, we redispatch to the subsite, passing on the updated sub value and
 toMaster function, as well as any remaining, unparsed path pieces. This
 function looks like:
</p><pre> dispatcher :: master -&gt; sub -&gt; (Route sub -&gt; Route master) -&gt; app -&gt; handler sub master -&gt; Text -&gt; [Text] -&gt; app
</pre><p>Where the parameters mean master, sub, toMaster, 404 response, 405 response,
 request method and path pieces. This is the second argument of our function.
</p><p>Finally, we need a way to decide which of the possible formats
 should the handler send the data out. Think of each URL holding an
 abstract object which has multiple representation (JSON, plain HTML
 etc). Each client might have a preference on which format it wants
 the abstract object in. For example, a javascript making a request
 (on behalf of a browser) might prefer a JSON object over a plain
 HTML file where as a user browsing with javascript disabled would
 want the page in HTML. The third argument is a function that
 converts the abstract object to the desired representation
 depending on the preferences sent by the client.
</p><p>The typical values for the first three arguments are,
 <code><code>yesodRunner</code></code> for the first, <code><code>yesodDispatch</code></code> for the second and
 <code>fmap <code>chooseRep</code></code>.
</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.11.0</p></div></body></html>