<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Crypto.Random.API</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Crypto-Random-API.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">crypto-random-api-0.1.0: Simple random generators API for cryptography related code</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Portability</th><td>Good</td></tr><tr><th>Stability</th><td>experimental</td></tr><tr><th>Maintainer</th><td>Vincent Hanquez &lt;vincent@snarc.org&gt;</td></tr><tr><th>Safe Haskell</th><td>Safe-Infered</td></tr></table><p class="caption">Crypto.Random.API</p></div><div id="description"><p class="caption">Description</p><div class="doc empty">&nbsp;</div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">class</span>  <a href="#t:CPRG">CPRG</a> g  <span class="keyword">where</span><ul class="subs"><li><a href="#v:cprgNeedReseed">cprgNeedReseed</a> :: g -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-Int.html#t:Int">Int</a></li><li><a href="#v:cprgSupplyEntropy">cprgSupplyEntropy</a> :: g -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/bytestring-0.9.2.1/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; g</li><li><a href="#v:cprgGenBytes">cprgGenBytes</a> :: g -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-Int.html#t:Int">Int</a> -&gt; (<a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/bytestring-0.9.2.1/Data-ByteString.html#t:ByteString">ByteString</a>, g)</li></ul></li><li class="src short"><a href="#v:genRandomBytes">genRandomBytes</a> :: <a href="Crypto-Random-API.html#t:CPRG">CPRG</a> g =&gt; g -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-Int.html#t:Int">Int</a> -&gt; (<a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/bytestring-0.9.2.1/Data-ByteString.html#t:ByteString">ByteString</a>, g)</li><li class="src short"><a href="#v:withRandomBytes">withRandomBytes</a> :: <a href="Crypto-Random-API.html#t:CPRG">CPRG</a> g =&gt; g -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-Int.html#t:Int">Int</a> -&gt; (<a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/bytestring-0.9.2.1/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; a) -&gt; (a, g)</li><li class="src short"><a href="#v:getSystemEntropy">getSystemEntropy</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/System-IO.html#t:IO">IO</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/bytestring-0.9.2.1/Data-ByteString.html#t:ByteString">ByteString</a></li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">class</span>  <a name="t:CPRG" class="def">CPRG</a> g  <span class="keyword">where</span></p><div class="doc"><p>A class of Cryptographic Secure Random generator.
</p><p>The main difference with the generic haskell RNG is that
 it return bytes instead of integer.
</p><p>It is quite similar to the CryptoRandomGen class in crypto-api
 except that error are not returned to the user. Instead
 the user is suppose to handle reseeding by using the NeedReseed
 and SupplyEntropy methods. For other type of errors, the user
 is expect to generate bytes with the parameters bounds explicity
 defined here.
</p><p>The CPRG need to be able to generate up to 2^20 bytes in one call,
</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:cprgNeedReseed" class="def">cprgNeedReseed</a> :: g -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-Int.html#t:Int">Int</a></p><div class="doc"><p>Provide a way to query the CPRG to calculate when new entropy
 is required to be supplied so the CPRG doesn't repeat output, and
 break assumptions. This returns the number of bytes before
 which supply entropy should have been called.
</p></div><p class="src"><a name="v:cprgSupplyEntropy" class="def">cprgSupplyEntropy</a> :: g -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/bytestring-0.9.2.1/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; g</p><div class="doc"><p>Supply entropy to the CPRG, that can be used now or later
 to reseed the CPRG. This should be used in conjunction to
 NeedReseed to know when to supply entropy.
</p></div><p class="src"><a name="v:cprgGenBytes" class="def">cprgGenBytes</a> :: g -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-Int.html#t:Int">Int</a> -&gt; (<a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/bytestring-0.9.2.1/Data-ByteString.html#t:ByteString">ByteString</a>, g)</p><div class="doc"><p>Generate bytes using the CPRG and the number specified.
</p><p>For user of the API, it's recommended to use genRandomBytes
 instead of this method directly.
</p></div></div></div><div class="top"><p class="src"><a name="v:genRandomBytes" class="def">genRandomBytes</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Crypto-Random-API.html#t:CPRG">CPRG</a> g</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; g</td><td class="doc"><p>CPRG to use
</p></td></tr><tr><td class="src">-&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-Int.html#t:Int">Int</a></td><td class="doc"><p>number of bytes to return
</p></td></tr><tr><td class="src">-&gt; (<a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/bytestring-0.9.2.1/Data-ByteString.html#t:ByteString">ByteString</a>, g)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Generate bytes using the cprg in parameter.
</p><p>arbitrary limit the number of bytes that can be generated in
 one go to 10mb.
</p></div></div><div class="top"><p class="src"><a name="v:withRandomBytes" class="def">withRandomBytes</a> :: <a href="Crypto-Random-API.html#t:CPRG">CPRG</a> g =&gt; g -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-Int.html#t:Int">Int</a> -&gt; (<a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/bytestring-0.9.2.1/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; a) -&gt; (a, g)</p><div class="doc"><p>this is equivalent to using Control.Arrow <code>first</code> with genBytes.
</p><p>namely it generate <code>len bytes and map the bytes to the function </code>f
</p></div></div><div class="top"><p class="src"><a name="v:getSystemEntropy" class="def">getSystemEntropy</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/System-IO.html#t:IO">IO</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/bytestring-0.9.2.1/Data-ByteString.html#t:ByteString">ByteString</a></p><div class="doc"><p>Return system entropy using the entropy package <code><a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/System-Entropy.html#v:getEntropy">getEntropy</a></code>
</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.11.0</p></div></body></html>