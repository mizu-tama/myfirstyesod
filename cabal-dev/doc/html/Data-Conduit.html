<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Data.Conduit</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Data-Conduit.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">conduit-0.5.5: Streaming data processing library.</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr></table><p class="caption">Data.Conduit</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Conduit interface
</a><ul><li><a href="#g:2">Connect/fuse
</a></li></ul></li><li><a href="#g:3">Pipe interface
</a></li><li><a href="#g:4">Primitives
</a><ul><li><a href="#g:5">Finalization
</a></li></ul></li><li><a href="#g:6">Connect-and-resume
</a></li><li><a href="#g:7">Utility functions
</a></li><li><a href="#g:8">Generalized conduit types
</a></li><li><a href="#g:9">Flushing
</a></li><li><a href="#g:10">Convenience re-exports
</a></li></ul></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">type</span> <a href="#t:Source">Source</a> m o = <a href="Data-Conduit.html#t:Pipe">Pipe</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Tuple.html#t:-40--41-">()</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Tuple.html#t:-40--41-">()</a> o <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Tuple.html#t:-40--41-">()</a> m <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Tuple.html#t:-40--41-">()</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:Conduit">Conduit</a> i m o = <a href="Data-Conduit.html#t:Pipe">Pipe</a> i i o <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Tuple.html#t:-40--41-">()</a> m <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Tuple.html#t:-40--41-">()</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:Sink">Sink</a> i m r = <a href="Data-Conduit.html#t:Pipe">Pipe</a> i i <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Data-Void.html#t:Void">Void</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Tuple.html#t:-40--41-">()</a> m r</li><li class="src short"><a href="#v:-36--36-">($$)</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Data-Conduit.html#t:Source">Source</a> m a -&gt; <a href="Data-Conduit.html#t:Sink">Sink</a> a m b -&gt; m b</li><li class="src short"><a href="#v:-36--61-">($=)</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Data-Conduit.html#t:Source">Source</a> m a -&gt; <a href="Data-Conduit.html#t:Conduit">Conduit</a> a m b -&gt; <a href="Data-Conduit.html#t:Source">Source</a> m b</li><li class="src short"><a href="#v:-61--36-">(=$)</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Data-Conduit.html#t:Conduit">Conduit</a> a m b -&gt; <a href="Data-Conduit.html#t:Sink">Sink</a> b m c -&gt; <a href="Data-Conduit.html#t:Sink">Sink</a> a m c</li><li class="src short"><a href="#v:-61--36--61-">(=$=)</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Data-Conduit.html#t:Conduit">Conduit</a> a m b -&gt; <a href="Data-Conduit.html#t:Conduit">Conduit</a> b m c -&gt; <a href="Data-Conduit.html#t:Conduit">Conduit</a> a m c</li><li class="src short"><span class="keyword">data</span>  <a href="#t:Pipe">Pipe</a> l i o u m r</li><li class="src short"><a href="#v:-62--43--62-">(&gt;+&gt;)</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Data-Conduit.html#t:Pipe">Pipe</a> l a b r0 m r1 -&gt; <a href="Data-Conduit.html#t:Pipe">Pipe</a> <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Data-Void.html#t:Void">Void</a> b c r1 m r2 -&gt; <a href="Data-Conduit.html#t:Pipe">Pipe</a> l a c r0 m r2</li><li class="src short"><a href="#v:-60--43--60-">(&lt;+&lt;)</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Data-Conduit.html#t:Pipe">Pipe</a> <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Data-Void.html#t:Void">Void</a> b c r1 m r2 -&gt; <a href="Data-Conduit.html#t:Pipe">Pipe</a> l a b r0 m r1 -&gt; <a href="Data-Conduit.html#t:Pipe">Pipe</a> l a c r0 m r2</li><li class="src short"><a href="#v:runPipe">runPipe</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Data-Conduit.html#t:Pipe">Pipe</a> <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Data-Void.html#t:Void">Void</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Tuple.html#t:-40--41-">()</a> <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Data-Void.html#t:Void">Void</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Tuple.html#t:-40--41-">()</a> m r -&gt; m r</li><li class="src short"><a href="#v:injectLeftovers">injectLeftovers</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Data-Conduit.html#t:Pipe">Pipe</a> i i o u m r -&gt; <a href="Data-Conduit.html#t:Pipe">Pipe</a> l i o u m r</li><li class="src short"><a href="#v:await">await</a> ::  <a href="Data-Conduit.html#t:Pipe">Pipe</a> l i o u m (<a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-Maybe.html#t:Maybe">Maybe</a> i)</li><li class="src short"><a href="#v:awaitE">awaitE</a> ::  <a href="Data-Conduit.html#t:Pipe">Pipe</a> l i o u m (<a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-Either.html#t:Either">Either</a> u i)</li><li class="src short"><a href="#v:awaitForever">awaitForever</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; (i -&gt; <a href="Data-Conduit.html#t:Pipe">Pipe</a> l i o r m r') -&gt; <a href="Data-Conduit.html#t:Pipe">Pipe</a> l i o r m r</li><li class="src short"><a href="#v:yield">yield</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; o -&gt; <a href="Data-Conduit.html#t:Pipe">Pipe</a> l i o u m <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Tuple.html#t:-40--41-">()</a></li><li class="src short"><a href="#v:yieldOr">yieldOr</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; o -&gt; m <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Tuple.html#t:-40--41-">()</a> -&gt; <a href="Data-Conduit.html#t:Pipe">Pipe</a> l i o u m <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Tuple.html#t:-40--41-">()</a></li><li class="src short"><a href="#v:leftover">leftover</a> ::  l -&gt; <a href="Data-Conduit.html#t:Pipe">Pipe</a> l i o u m <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Tuple.html#t:-40--41-">()</a></li><li class="src short"><a href="#v:bracketP">bracketP</a> :: <a href="Data-Conduit.html#t:MonadResource">MonadResource</a> m =&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/System-IO.html#t:IO">IO</a> a -&gt; (a -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/System-IO.html#t:IO">IO</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Tuple.html#t:-40--41-">()</a>) -&gt; (a -&gt; <a href="Data-Conduit.html#t:Pipe">Pipe</a> l i o u m r) -&gt; <a href="Data-Conduit.html#t:Pipe">Pipe</a> l i o u m r</li><li class="src short"><a href="#v:addCleanup">addCleanup</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; (<a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-Bool.html#t:Bool">Bool</a> -&gt; m <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Tuple.html#t:-40--41-">()</a>) -&gt; <a href="Data-Conduit.html#t:Pipe">Pipe</a> l i o u m r -&gt; <a href="Data-Conduit.html#t:Pipe">Pipe</a> l i o u m r</li><li class="src short"><span class="keyword">data</span>  <a href="#t:ResumableSource">ResumableSource</a> m o</li><li class="src short"><a href="#v:-36--36--43-">($$+)</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Data-Conduit.html#t:Source">Source</a> m a -&gt; <a href="Data-Conduit.html#t:Sink">Sink</a> a m b -&gt; m (<a href="Data-Conduit.html#t:ResumableSource">ResumableSource</a> m a, b)</li><li class="src short"><a href="#v:-36--36--43--43-">($$++)</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Data-Conduit.html#t:ResumableSource">ResumableSource</a> m a -&gt; <a href="Data-Conduit.html#t:Sink">Sink</a> a m b -&gt; m (<a href="Data-Conduit.html#t:ResumableSource">ResumableSource</a> m a, b)</li><li class="src short"><a href="#v:-36--36--43--45-">($$+-)</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Data-Conduit.html#t:ResumableSource">ResumableSource</a> m a -&gt; <a href="Data-Conduit.html#t:Sink">Sink</a> a m b -&gt; m b</li><li class="src short"><a href="#v:unwrapResumable">unwrapResumable</a> :: <a href="/Library/Haskell/ghc-7.4.2/lib/transformers-0.3.0.0/doc/html/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; <a href="Data-Conduit.html#t:ResumableSource">ResumableSource</a> m o -&gt; m (<a href="Data-Conduit.html#t:Source">Source</a> m o, m <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Tuple.html#t:-40--41-">()</a>)</li><li class="src short"><a href="#v:transPipe">transPipe</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; (<span class="keyword">forall</span> a.  m a -&gt; n a) -&gt; <a href="Data-Conduit.html#t:Pipe">Pipe</a> l i o u m r -&gt; <a href="Data-Conduit.html#t:Pipe">Pipe</a> l i o u n r</li><li class="src short"><a href="#v:mapOutput">mapOutput</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; (o1 -&gt; o2) -&gt; <a href="Data-Conduit.html#t:Pipe">Pipe</a> l i o1 u m r -&gt; <a href="Data-Conduit.html#t:Pipe">Pipe</a> l i o2 u m r</li><li class="src short"><a href="#v:mapOutputMaybe">mapOutputMaybe</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; (o1 -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-Maybe.html#t:Maybe">Maybe</a> o2) -&gt; <a href="Data-Conduit.html#t:Pipe">Pipe</a> l i o1 u m r -&gt; <a href="Data-Conduit.html#t:Pipe">Pipe</a> l i o2 u m r</li><li class="src short"><a href="#v:mapInput">mapInput</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; (i1 -&gt; i2) -&gt; (l2 -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-Maybe.html#t:Maybe">Maybe</a> l1) -&gt; <a href="Data-Conduit.html#t:Pipe">Pipe</a> l2 i2 o u m r -&gt; <a href="Data-Conduit.html#t:Pipe">Pipe</a> l1 i1 o u m r</li><li class="src short"><a href="#v:withUpstream">withUpstream</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Data-Conduit.html#t:Pipe">Pipe</a> l i o u m r -&gt; <a href="Data-Conduit.html#t:Pipe">Pipe</a> l i o u m (u, r)</li><li class="src short"><span class="keyword">type</span> <a href="#t:GSource">GSource</a> m o = <span class="keyword">forall</span> l i u.  <a href="Data-Conduit.html#t:Pipe">Pipe</a> l i o u m <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Tuple.html#t:-40--41-">()</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:GSink">GSink</a> i m r = <span class="keyword">forall</span> l o u.  <a href="Data-Conduit.html#t:Pipe">Pipe</a> l i o u m r</li><li class="src short"><span class="keyword">type</span> <a href="#t:GLSink">GLSink</a> i m r = <span class="keyword">forall</span> o u.  <a href="Data-Conduit.html#t:Pipe">Pipe</a> i i o u m r</li><li class="src short"><span class="keyword">type</span> <a href="#t:GInfSink">GInfSink</a> i m = <span class="keyword">forall</span> l o r.  <a href="Data-Conduit.html#t:Pipe">Pipe</a> l i o r m r</li><li class="src short"><span class="keyword">type</span> <a href="#t:GLInfSink">GLInfSink</a> i m = <span class="keyword">forall</span> o r.  <a href="Data-Conduit.html#t:Pipe">Pipe</a> i i o r m r</li><li class="src short"><span class="keyword">type</span> <a href="#t:GConduit">GConduit</a> i m o = <span class="keyword">forall</span> l u.  <a href="Data-Conduit.html#t:Pipe">Pipe</a> l i o u m <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Tuple.html#t:-40--41-">()</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:GLConduit">GLConduit</a> i m o = <span class="keyword">forall</span> u.  <a href="Data-Conduit.html#t:Pipe">Pipe</a> i i o u m <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Tuple.html#t:-40--41-">()</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:GInfConduit">GInfConduit</a> i m o = <span class="keyword">forall</span> l r.  <a href="Data-Conduit.html#t:Pipe">Pipe</a> l i o r m r</li><li class="src short"><span class="keyword">type</span> <a href="#t:GLInfConduit">GLInfConduit</a> i m o = <span class="keyword">forall</span> r.  <a href="Data-Conduit.html#t:Pipe">Pipe</a> i i o r m r</li><li class="src short"><span class="keyword">data</span>  <a href="#t:Flush">Flush</a> a<ul class="subs"><li>= <a href="#v:Chunk">Chunk</a> a  </li><li>| <a href="#v:Flush">Flush</a>  </li></ul></li><li class="src short"><span class="keyword">data</span>  <a href="#t:ResourceT">ResourceT</a> m a</li><li class="src short"><span class="keyword">class</span> (<a href="Data-Conduit.html#t:MonadThrow">MonadThrow</a> m, <a href="Data-Conduit.html#t:MonadUnsafeIO">MonadUnsafeIO</a> m, <a href="/Library/Haskell/ghc-7.4.2/lib/transformers-0.3.0.0/doc/html/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Applicative.html#t:Applicative">Applicative</a> m) =&gt; <a href="#t:MonadResource">MonadResource</a> m </li><li class="src short"><span class="keyword">class</span> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="#t:MonadThrow">MonadThrow</a> m  <span class="keyword">where</span><ul class="subs"><li><a href="#v:monadThrow">monadThrow</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Exception-Base.html#t:Exception">Exception</a> e =&gt; e -&gt; m a</li></ul></li><li class="src short"><span class="keyword">class</span> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="#t:MonadUnsafeIO">MonadUnsafeIO</a> m  <span class="keyword">where</span><ul class="subs"><li><a href="#v:unsafeLiftIO">unsafeLiftIO</a> ::  <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/System-IO.html#t:IO">IO</a> a -&gt; m a</li></ul></li><li class="src short"><a href="#v:runResourceT">runResourceT</a> :: <a href="Data-Conduit.html#t:MonadBaseControl">MonadBaseControl</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/System-IO.html#t:IO">IO</a> m =&gt; <a href="Data-Conduit.html#t:ResourceT">ResourceT</a> m a -&gt; m a</li><li class="src short"><span class="keyword">newtype</span>  <a href="#t:ExceptionT">ExceptionT</a> m a = <a href="#v:ExceptionT">ExceptionT</a> {<ul class="subs"><li><a href="#v:runExceptionT">runExceptionT</a> :: m (<a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-Either.html#t:Either">Either</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Exception-Base.html#t:SomeException">SomeException</a> a)</li></ul>}</li><li class="src short"><a href="#v:runExceptionT_">runExceptionT_</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Data-Conduit.html#t:ExceptionT">ExceptionT</a> m a -&gt; m a</li><li class="src short"><a href="#v:runException">runException</a> ::  <a href="Data-Conduit.html#t:ExceptionT">ExceptionT</a> <a href="/Library/Haskell/ghc-7.4.2/lib/transformers-0.3.0.0/doc/html/Data-Functor-Identity.html#t:Identity">Identity</a> a -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-Either.html#t:Either">Either</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Exception-Base.html#t:SomeException">SomeException</a> a</li><li class="src short"><a href="#v:runException_">runException_</a> ::  <a href="Data-Conduit.html#t:ExceptionT">ExceptionT</a> <a href="/Library/Haskell/ghc-7.4.2/lib/transformers-0.3.0.0/doc/html/Data-Functor-Identity.html#t:Identity">Identity</a> a -&gt; a</li><li class="src short"><span class="keyword">class</span> <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Control-Monad-Base.html#t:MonadBase">MonadBase</a> b m =&gt; <a href="#t:MonadBaseControl">MonadBaseControl</a> b m | m -&gt; b</li></ul></div><div id="interface"><h1 id="g:1">Conduit interface
</h1><div class="doc"><p>Let's start off with a few simple examples of <code>conduit</code> usage. First, a file
copy utility:
</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>:load Data.Conduit.Binary
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>runResourceT $ sourceFile &quot;input.txt&quot; $$ sinkFile &quot;output.txt&quot;
</code></strong></pre><p><code>runResourceT</code> is a function provided by the <code>resourcet</code> package, and ensures
that resources are properly cleaned up, even in the presence of exceptions. The
type system will enforce that <code>runResourceT</code> is called as needed. The remainder
of this tutorial will not discuss <code>runResourceT</code>; please see the documentation
in <code>resourcet</code> for more information.
</p><p>Looking at the rest of our example, there are three components to understand:
<code>sourceFile</code>, <code>sinkFile</code>, and the <code>$$</code> operator (called &quot;connect&quot;). These
represent the most basic building blocks in <code>conduit</code>: a <code>Source</code> produces a
stream of values, a <code>Sink</code> consumes such a stream, and <code>$$</code> will combine these
together.
</p><p>In the case of file copying, there was no value produced by the <code>Sink</code>.
However, often times a <code>Sink</code> will produce some result value. For example:
</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>:load Data.Conduit.List
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>:module +Prelude
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>sourceList [1..10] $$ fold (+) 0
</code></strong>55
</pre><p><code>sourceList</code> is a convenience function for turning a list into a <code>Source</code>.
<code>fold</code> implements a strict left fold for consuming the input stream.
</p><p>The next major aspect to the <code>conduit</code> library: the <code>Conduit</code> type.
This type represents a stream <em>transformer</em>. In order to use a <code>Conduit</code>, we
must <em>fuse</em> it with either a <code>Source</code> or <code>Sink</code>. For example:
</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>:load Data.Conduit.List
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>:module +Prelude
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>sourceList [1..10] $= Data.Conduit.List.map (+1) $$ consume
</code></strong>[2,3,4,5,6,7,8,9,10,11]
</pre><p>Notice the addition of the <code>$=</code>, or <em>left fuse</em> operator. This combines a
<code>Source</code> and a <code>Conduit</code> into a new <code>Source</code>, which can then be connected to a
<code>Sink</code> (in this case, <code>consume</code>). We can similarly perform <em>right fusion</em> to
combine a <code>Conduit</code> and <code>Sink</code>, or <em>middle fusion</em> to combine two <code>Conduit</code>s.
</p><p>A number of very common functions are provided in the <a href="Data-Conduit-List.html">Data.Conduit.List</a>
module. Many of these functions correspond very closely to standard Haskell
functions.
</p><p>In addition to connecting and fusing components together, we can also build up
more sophisticated components through monadic composition. For example, to
create a <code>Sink</code> that ignores the first 3 numbers and returns the sum of the
remaining numbers, we can use:
</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>:load Data.Conduit.List
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>:module +Prelude
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>sourceList [1..10] $$ Data.Conduit.List.drop 3 &gt;&gt; fold (+) 0
</code></strong>49
</pre><p>In some cases, we might end up consuming more input than we needed, and want to
provide that input to the next component in our monadic chain. We refer to this
as <em>leftovers</em>. The simplest example of this is <code>peek</code>.
</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>:load Data.Conduit.List
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>:set -XNoMonomorphismRestriction
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>:module +Prelude
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let sink = do { first &lt;- peek; total &lt;- fold (+) 0; return (first, total) }
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>sourceList [1..10] $$ sink
</code></strong>(Just 1,55)
</pre><p>Notice that, although we &quot;consumed&quot; the first value from the stream via
<code>peek</code>, it was still available to <code>fold</code>. This idea becomes even more important
when dealing with chunked data such as <code>ByteString</code>s or <code>Text</code>.
</p><p><em>Final note</em>: Notice in the types below that <code>Source</code>, <code>Sink</code>, and <code>Conduit</code>
are just type aliases. This will be explained later. Another important aspect
is resource finalization, which will also be covered below.
</p></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Source" class="def">Source</a> m o = <a href="Data-Conduit.html#t:Pipe">Pipe</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Tuple.html#t:-40--41-">()</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Tuple.html#t:-40--41-">()</a> o <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Tuple.html#t:-40--41-">()</a> m <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Tuple.html#t:-40--41-">()</a></p><div class="doc"><p>Provides a stream of output values, without consuming any input or
 producing a final result.
</p><p>Since 0.5.0
</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Conduit" class="def">Conduit</a> i m o = <a href="Data-Conduit.html#t:Pipe">Pipe</a> i i o <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Tuple.html#t:-40--41-">()</a> m <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Tuple.html#t:-40--41-">()</a></p><div class="doc"><p>Consumes a stream of input values and produces a stream of output values,
 without producing a final result.
</p><p>Since 0.5.0
</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Sink" class="def">Sink</a> i m r = <a href="Data-Conduit.html#t:Pipe">Pipe</a> i i <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Data-Void.html#t:Void">Void</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Tuple.html#t:-40--41-">()</a> m r</p><div class="doc"><p>Consumes a stream of input values and produces a final result, without
 producing any output.
</p><p>Since 0.5.0
</p></div></div><h2 id="g:2">Connect/fuse
</h2><div class="doc"><p>It is important to understand the lifecycle of our components. Notice that we
can connect or fuse two components together. When we do this, the component
providing output is called <em>upstream</em>, and the component consuming this input
is called <em>downstream</em>. We can have arbitrarily long chains of such fusion, so
a single component can simultaneously function as <em>upstream</em> and <em>downstream</em>.
</p><p>Each component can be in one of four states of operation at any given time:
</p><ul><li> It hasn't yet started operating.
</li><li> It is providing output downstream.
</li><li> It is waiting for input from upstream.
</li><li> It has completed processing.
</li></ul><p>Let's use <code>sourceFile</code> and <code>sinkFile</code> as an example. When we run <code>sourceFile
<a href="input.html">input</a> $$ sinkFile <a href="output.html">output</a></code>, both components begin in the &quot;not started&quot;
state. Next, we start running <code>sinkFile</code> (note: we <em>always</em> begin processing on
the downstream component). <code>sinkFile</code> will open up the file, and then wait for
input from upstream.
</p><p>Next, we'll start running <code>sourceFile</code>, which will open the file, read some
data from it, and provide it as output downstream. This will be fed to
<code>sinkFile</code> (which was already waiting). <code>sinkFile</code> will write the data to a
file, then ask for more input. This process will continue until <code>sourceFile</code>
reaches the end of the input. It will close the file handle and switch to the
completed state. When this happens, <code>sinkFile</code> is sent a signal that no more
input is available. It will then close its file and return a result.
</p><p>Now let's change things up a bit. Suppose we were instead connecting
<code>sourceFile</code> to <code>take 1</code>. We start by running <code>take 1</code>, which will wait for
some input. We'll then start <code>sourceFile</code>, which will open the file, read a
chunk, and send it downstream. <code>take 1</code> will take that single chunk and return
it as a result. Once it does this, it has transitioned to the complete state.
</p><p>We don't want to pull any more data from <code>sourceFile</code>, as we do not need it.
So instead, we call <code>sourceFile</code>'s finalizer. Each time upstream provides
output, it also provides a finalizer to be run if downstream finishes
processing.
</p><p>One final case: suppose we connect <code>sourceFile</code> to <code>return ()</code>. The latter does
nothing: it immediately switches to the complete state. In this case, we never
even start running <code>sourceFile</code> (it stays in the &quot;not yet started&quot; state),
and so no finalization occurs.
</p><p>So here are the takeaways from the above discussion:
</p><ul><li> When upstream completes before downstream, it cleans up all of its resources
  and sends some termination signal. We never think about upstream again. This
  can only occur while downstream is in the &quot;waiting for input&quot; state, since
  that is the only time that upstream is called.
</li><li> When downstream completes before upstream, we finalize upstream immediately.
  This can only occur when upstream produces output, because that's the only
  time when control is passed back to downstream.
</li><li> If downstream never awaits for input before it terminates, upstream was never
  started, and therefore it does not need to be finalized.
</li></ul><p>Note that all of the discussion above applies equally well to chains of
components. If you have an upstream, middle, and downstream component, and
downstream terminates, then the middle component will be finalized, which in
turn will trigger upstream to be finalized. This setup ensures that we always
have prompt resource finalization.
</p></div><div class="top"><p class="src"><a name="v:-36--36-" class="def">($$)</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Data-Conduit.html#t:Source">Source</a> m a -&gt; <a href="Data-Conduit.html#t:Sink">Sink</a> a m b -&gt; m b</p><div class="doc"><p>The connect operator, which pulls data from a source and pushes to a sink.
 When either side closes, the other side will immediately be closed as well.
 If you would like to keep the <code>Source</code> open to be used for another
 operations, use the connect-and-resume operator <code><a href="Data-Conduit.html#v:-36--36--43-">$$+</a></code>.
</p><p>Since 0.4.0
</p></div></div><div class="top"><p class="src"><a name="v:-36--61-" class="def">($=)</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Data-Conduit.html#t:Source">Source</a> m a -&gt; <a href="Data-Conduit.html#t:Conduit">Conduit</a> a m b -&gt; <a href="Data-Conduit.html#t:Source">Source</a> m b</p><div class="doc"><p>Left fuse, combining a source and a conduit together into a new source.
</p><p>Both the <code>Source</code> and <code>Conduit</code> will be closed when the newly-created
 <code>Source</code> is closed.
</p><p>Leftover data from the <code>Conduit</code> will be discarded.
</p><p>Since 0.4.0
</p></div></div><div class="top"><p class="src"><a name="v:-61--36-" class="def">(=$)</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Data-Conduit.html#t:Conduit">Conduit</a> a m b -&gt; <a href="Data-Conduit.html#t:Sink">Sink</a> b m c -&gt; <a href="Data-Conduit.html#t:Sink">Sink</a> a m c</p><div class="doc"><p>Right fuse, combining a conduit and a sink together into a new sink.
</p><p>Both the <code>Conduit</code> and <code>Sink</code> will be closed when the newly-created <code>Sink</code>
 is closed.
</p><p>Leftover data returned from the <code>Sink</code> will be discarded.
</p><p>Since 0.4.0
</p></div></div><div class="top"><p class="src"><a name="v:-61--36--61-" class="def">(=$=)</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Data-Conduit.html#t:Conduit">Conduit</a> a m b -&gt; <a href="Data-Conduit.html#t:Conduit">Conduit</a> b m c -&gt; <a href="Data-Conduit.html#t:Conduit">Conduit</a> a m c</p><div class="doc"><p>Fusion operator, combining two <code>Conduit</code>s together into a new <code>Conduit</code>.
</p><p>Both <code>Conduit</code>s will be closed when the newly-created <code>Conduit</code> is closed.
</p><p>Leftover data returned from the right <code>Conduit</code> will be discarded.
</p><p>Since 0.4.0
</p></div></div><h1 id="g:3">Pipe interface
</h1><div class="doc"><p>We discussed three main types in the <code>conduit</code> package: <code>Source</code>, <code>Sink</code>, and
<code>Conduit</code>. In fact, these are all unified into a single type, <code>Pipe</code>. This
greatly simplifies the internal workings of this package, and makes it much
easier to build more powerful components from simpler ones. For example, it is
easy to combine a number of simple <code>Sink</code>s together to produce a more powerful
<code>Conduit</code>. To create a <code>Conduit</code> which drops 3 input elements and doubles the
rest, we could use:
</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>:load Data.Conduit.List
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>:set -XNoMonomorphismRestriction
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let conduit = do { drop 3; map (Prelude.* 2) }
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>sourceList [1..10] $$ conduit =$ consume
</code></strong>[8,10,12,14,16,18,20]
</pre><p>If we look again at our examples from above, we'll see a few different aspects
to <code>Pipe</code>s:
</p><ul><li> <code>Sink</code>s and <code>Conduit</code>s can consume a stream of <em>input</em> values. Both <code>map</code> and
  <code>fold</code> took a stream of <code>Int</code>s, while <code>sinkFile</code> took a stream of
  <code>ByteString</code>s.
</li><li> <code>Source</code>s and <code>Conduit</code>s can produce a stream of <em>output</em> values. <code>sourceFile</code>
  produced a stream of <code>ByteString</code>s, which was then consumed by <code>sinkFile</code>. This
  is an important point in <code>conduit</code>: the output of the left-hand pipe (a.k.a.,
  <em>upstream</em>) must match the input of the right-hand pipe (a.k.a., <em>downstream</em>).
</li><li> All <code>Pipe</code>s have some underlying <code>Monad</code>. The <code>sourceFile</code> and <code>sinkFile</code>
  functions needed to use <code>MonadResource</code> from <code>resourcet</code> to get exception
  handling, but our other functions could live in any monad. Since <code>Pipe</code>
  provides a <code>MonadTrans</code> instance, you can actually lift any action from the
  underlying <code>Monad</code> into your <code>Pipe</code>.
</li><li> <code>Sink</code>s can provide a <em>result</em> type. Our <code>fold</code> returned a final <code>Int</code>, while
  <code>sinkFile</code> returned <code>()</code>.
</li></ul><p>A <code>Pipe</code> also exposes two other features as well, not covered by the above
three types:
</p><ul><li> Each <code>Pipe</code> has some <em>leftover</em> value. Above, we described a situation where
  the leftover would be identical to the input type. However, <code>Pipe</code> provides a
  type parameter for this instead, so that you can alternatively set the leftover
  type to <code><a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Data-Void.html#t:Void">Void</a></code>, thereby ensuring that a <code>Pipe</code> does not provide any leftover
  values. This is important for ensuring that leftover values aren't accidentally
  discarded.
</li><li> Above, we described a situation where only <code>Sink</code>s could return results.
  However, sometimes it's advantageous to allow stream producers to also produce
  a result type. We call this the <em>upstream</em> result.
</li></ul><p>Putting this all together, a <code>Pipe</code> has six type parameters: <code>Pipe l i o u m r</code>,
corresponding to each of the bullets above. <code>Source</code>, <code>Conduit</code>, and <code>Sink</code> are
simply type aliases that restrict one or more of these type parameters to
specific types. For example, both <code>Source</code> and <code>Conduit</code> have <code>r</code> restricted to
<code>()</code>, since neither may return a result.
</p><p>There are two ways that <code>Pipe</code>s can be composed: via the <code>Monad</code> instance, and
via fusion. (<em>Note</em>: connecting is just a special case of fusion, where the
<code>Pipe</code> is then run. We'll discuss that more later on.) In the <code>pipes</code> package,
these are referred to as <em>vertical</em> and <em>horizontal</em> composition, respectively.
Let's clarify the distinction between these two:
</p><p>Monadic composition takes two <code>Pipe</code>s with the same input and output types, and
combines them into a single <code>Pipe</code>. These two <code>Pipe</code>s will be run one after the
other, and they will share the same input and output streams. Essentially, the
second <code>Pipe</code> will continue consuming input where the first left off, and the
output streams of each will be concatenated. Any leftover values from the first
<code>Pipe</code> will be fed to the second <code>Pipe</code>. Let's see a simple example:
</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>:load Data.Conduit.List
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>sourceList [1..10] $$ do { x &lt;- take 3; y &lt;- take 2; return (x, y) }
</code></strong>([1,2,3],[4,5])
</pre><p>Fusion, on the other hand, will connect the output from an upstream <code>Pipe</code> to
the input of a downstream <code>Pipe</code>. The upstream <code>Pipe</code> is required to have a
result type of <code>()</code>, since any results it produces are thrown out. This form of
composition produces a new <code>Pipe</code> with the input parameter of the upstream
<code>Pipe</code> and the output and result parameters of the downstream <code>Pipe</code>. (For
examples, see the initial examples on this page. Every usage of the connect or
fusion operators is fusion composition.)
</p><p><em>Note</em>: If you are building a library of <code>conduit</code> functions, it is best to
keep the type signatures as general as possible. For example, even though the
simplest type signature for the <code>drop</code> function would be <code>Int -&gt; Sink i m ()</code>,
this would prevent it from being used in construction of <code>Conduit</code>s. Instead,
we give it a type signature of <code>Int -&gt; Pipe l i o u m ()</code>.
</p></div><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:Pipe" class="def">Pipe</a> l i o u m r </p><div class="doc"><p>The underlying datatype for all the types in this package.  In has six
 type parameters:
</p><ul><li> <em>l</em> is the type of values that may be left over from this <code>Pipe</code>. A <code>Pipe</code>
 with no leftovers would use <code>Void</code> here, and one with leftovers would use
 the same type as the <em>i</em> parameter. Leftovers are automatically provided to
 the next <code>Pipe</code> in the monadic chain.
</li><li> <em>i</em> is the type of values for this <code>Pipe</code>'s input stream.
</li><li> <em>o</em> is the type of values for this <code>Pipe</code>'s output stream.
</li><li> <em>u</em> is the result type from the upstream <code>Pipe</code>.
</li><li> <em>m</em> is the underlying monad.
</li><li> <em>r</em> is the result type.
</li></ul><p>A basic intuition is that every <code>Pipe</code> produces a stream of output values
 (<em>o</em>), and eventually indicates that this stream is terminated by sending a
 result (<em>r</em>). On the receiving end of a <code>Pipe</code>, these become the <em>i</em> and <em>u</em>
 parameters.
</p><p>Since 0.5.0
</p></div><div class="subs instances"><p id="control.i:Pipe" class="caption collapser" onclick="toggleSection('i:Pipe')">Instances</p><div id="section.i:Pipe" class="show"><table><tr><td class="src"><a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Control-Monad-Base.html#t:MonadBase">MonadBase</a> base m =&gt; <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Control-Monad-Base.html#t:MonadBase">MonadBase</a> base (<a href="Data-Conduit.html#t:Pipe">Pipe</a> l i o u m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Library/Haskell/ghc-7.4.2/lib/transformers-0.3.0.0/doc/html/Control-Monad-Trans-Class.html#t:MonadTrans">MonadTrans</a> (<a href="Data-Conduit.html#t:Pipe">Pipe</a> l i o u)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad.html#t:Monad">Monad</a> (<a href="Data-Conduit.html#t:Pipe">Pipe</a> l i o u m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad.html#t:Functor">Functor</a> (<a href="Data-Conduit.html#t:Pipe">Pipe</a> l i o u m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Applicative.html#t:Applicative">Applicative</a> (<a href="Data-Conduit.html#t:Pipe">Pipe</a> l i o u m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Library/Haskell/ghc-7.4.2/lib/transformers-0.3.0.0/doc/html/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; <a href="/Library/Haskell/ghc-7.4.2/lib/transformers-0.3.0.0/doc/html/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> (<a href="Data-Conduit.html#t:Pipe">Pipe</a> l i o u m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-Conduit.html#t:MonadResource">MonadResource</a> m =&gt; <a href="Data-Conduit.html#t:MonadResource">MonadResource</a> (<a href="Data-Conduit.html#t:Pipe">Pipe</a> l i o u m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-Conduit.html#t:MonadThrow">MonadThrow</a> m =&gt; <a href="Data-Conduit.html#t:MonadThrow">MonadThrow</a> (<a href="Data-Conduit.html#t:Pipe">Pipe</a> l i o u m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Control-Monad-Trans-Resource.html#t:MonadActive">MonadActive</a> m =&gt; <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Control-Monad-Trans-Resource.html#t:MonadActive">MonadActive</a> (<a href="Data-Conduit.html#t:Pipe">Pipe</a> l i o u m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-Monoid.html#t:Monoid">Monoid</a> (<a href="Data-Conduit.html#t:Pipe">Pipe</a> l i o u m ())</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:-62--43--62-" class="def">(&gt;+&gt;)</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Data-Conduit.html#t:Pipe">Pipe</a> l a b r0 m r1 -&gt; <a href="Data-Conduit.html#t:Pipe">Pipe</a> <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Data-Void.html#t:Void">Void</a> b c r1 m r2 -&gt; <a href="Data-Conduit.html#t:Pipe">Pipe</a> l a c r0 m r2</p><div class="doc"><p>Fuse together two <code>Pipe</code>s, connecting the output from the left to the
 input of the right.
</p><p>Notice that the <em>leftover</em> parameter for the <code>Pipe</code>s must be <code>Void</code>. This
 ensures that there is no accidental data loss of leftovers during fusion. If
 you have a <code>Pipe</code> with leftovers, you must first call <code><a href="Data-Conduit.html#v:injectLeftovers">injectLeftovers</a></code>. For
 example:
</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>:load Data.Conduit.List
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>:set -XNoMonomorphismRestriction
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let pipe = peek &gt;&gt;= \x -&gt; fold (Prelude.+) 0 &gt;&gt;= \y -&gt; return (x, y)
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>runPipe $ sourceList [1..10] &gt;+&gt; injectLeftovers pipe
</code></strong>(Just 1,55)
</pre><p>Since 0.5.0
</p></div></div><div class="top"><p class="src"><a name="v:-60--43--60-" class="def">(&lt;+&lt;)</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Data-Conduit.html#t:Pipe">Pipe</a> <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Data-Void.html#t:Void">Void</a> b c r1 m r2 -&gt; <a href="Data-Conduit.html#t:Pipe">Pipe</a> l a b r0 m r1 -&gt; <a href="Data-Conduit.html#t:Pipe">Pipe</a> l a c r0 m r2</p><div class="doc"><p>Same as <code><a href="Data-Conduit.html#v:-62--43--62-">&gt;+&gt;</a></code>, but reverse the order of the arguments.
</p><p>Since 0.5.0
</p></div></div><div class="top"><p class="src"><a name="v:runPipe" class="def">runPipe</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Data-Conduit.html#t:Pipe">Pipe</a> <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Data-Void.html#t:Void">Void</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Tuple.html#t:-40--41-">()</a> <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Data-Void.html#t:Void">Void</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Tuple.html#t:-40--41-">()</a> m r -&gt; m r</p><div class="doc"><p>Run a pipeline until processing completes.
</p><p>Since 0.5.0
</p></div></div><div class="top"><p class="src"><a name="v:injectLeftovers" class="def">injectLeftovers</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Data-Conduit.html#t:Pipe">Pipe</a> i i o u m r -&gt; <a href="Data-Conduit.html#t:Pipe">Pipe</a> l i o u m r</p><div class="doc"><p>Transforms a <code>Pipe</code> that provides leftovers to one which does not,
 allowing it to be composed.
</p><p>This function will provide any leftover values within this <code>Pipe</code> to any
 calls to <code>await</code>. If there are more leftover values than are demanded, the
 remainder are discarded.
</p><p>Since 0.5.0
</p></div></div><h1 id="g:4">Primitives
</h1><div class="doc"><p>While <code>conduit</code> provides a number of built-in <code>Source</code>s, <code>Sink</code>s, and
<code>Conduit</code>s, you will almost certainly want to construct some of your own.
Previous versions recommended using the constructors directly. Beginning with
0.5, the recommended approach is to compose existing <code>Pipe</code>s into larger ones.
</p><p>It is certainly possible (and advisable!) to leverage existing <code>Pipe</code>s- like
those in <a href="Data-Conduit-List.html">Data.Conduit.List</a>. However, you will often need to go to a lower
level set of <code>Pipe</code>s to start your composition. The following few functions
should be sufficient for expressing all constructs besides finalization. Adding
in <code>bracketP</code> and <code>addCleanup</code>, you should be able to create any <code>Pipe</code> you
need. (In fact, that's precisely how the remainder of this package is written.)
</p><p>The three basic operations are <em>awaiting</em>, <em>yielding</em>, and <em>leftovers</em>.
Awaiting asks for a new value from upstream, or returns <code>Nothing</code> if upstream
is done. For example:
</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>:load Data.Conduit.List
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>sourceList [1..10] $$ await
</code></strong>Just 1
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>:load Data.Conduit.List
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>sourceList [] $$ await
</code></strong>Nothing
</pre><p>Similarly, we have a <code>yield</code> function, which provides a value to the downstream
<code>Pipe</code>. <code>yield</code> features <em>auto-termination</em>: if the downstream <code>Pipe</code> has
already completed processing, the upstream <code>Pipe</code> will stop processing when it
tries to <code>yield</code>.
</p><p>The upshot of this is that you can write code that appears to loop infinitely,
and yet will terminate.
</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>:set -XNoMonomorphismRestriction
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let infinite = yield () &gt;&gt; infinite
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>infinite $$ await
</code></strong>Just ()
</pre><p>Or for something a bit more sophisticated:
</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let enumFrom' i = yield i &gt;&gt; enumFrom' (succ i)
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>enumFrom' 1 $$ take 5
</code></strong>[1,2,3,4,5]
</pre><p>The final primitive <code>Pipe</code> is <code>leftover</code>. This allows you to return unused
input to be used by the next <code>Pipe</code> in the monadic chain. A simple use case
would be implementing the <code>peek</code> function:
</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let peek = await &gt;&gt;= maybe (return Nothing) (\x -&gt; leftover x &gt;&gt; return (Just x))
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>enumFrom' 1 $$ do { mx &lt;- peek; my &lt;- await; mz &lt;- await; return (mx, my, mz) }
</code></strong>(Just 1,Just 1,Just 2)
</pre><p>Note that you should only return leftovers that were previously yielded from
upstream.
</p></div><div class="top"><p class="src"><a name="v:await" class="def">await</a> ::  <a href="Data-Conduit.html#t:Pipe">Pipe</a> l i o u m (<a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-Maybe.html#t:Maybe">Maybe</a> i)</p><div class="doc"><p>Wait for a single input value from upstream, terminating immediately if no
 data is available.
</p><p>Since 0.5.0
</p></div></div><div class="top"><p class="src"><a name="v:awaitE" class="def">awaitE</a> ::  <a href="Data-Conduit.html#t:Pipe">Pipe</a> l i o u m (<a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-Either.html#t:Either">Either</a> u i)</p><div class="doc"><p>This is similar to <code>await</code>, but will return the upstream result value as
 <code>Left</code> if available.
</p><p>Since 0.5.0
</p></div></div><div class="top"><p class="src"><a name="v:awaitForever" class="def">awaitForever</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; (i -&gt; <a href="Data-Conduit.html#t:Pipe">Pipe</a> l i o r m r') -&gt; <a href="Data-Conduit.html#t:Pipe">Pipe</a> l i o r m r</p><div class="doc"><p>Wait for input forever, calling the given inner <code>Pipe</code> for each piece of
 new input. Returns the upstream result type.
</p><p>Since 0.5.0
</p></div></div><div class="top"><p class="src"><a name="v:yield" class="def">yield</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad.html#t:Monad">Monad</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; o</td><td class="doc"><p>output value
</p></td></tr><tr><td class="src">-&gt; <a href="Data-Conduit.html#t:Pipe">Pipe</a> l i o u m <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Tuple.html#t:-40--41-">()</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Send a single output value downstream. If the downstream <code>Pipe</code>
 terminates, this <code>Pipe</code> will terminate as well.
</p><p>Since 0.5.0
</p></div></div><div class="top"><p class="src"><a name="v:yieldOr" class="def">yieldOr</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad.html#t:Monad">Monad</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; o</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; m <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Tuple.html#t:-40--41-">()</a></td><td class="doc"><p>finalizer
</p></td></tr><tr><td class="src">-&gt; <a href="Data-Conduit.html#t:Pipe">Pipe</a> l i o u m <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Tuple.html#t:-40--41-">()</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Similar to <code>yield</code>, but additionally takes a finalizer to be run if the
 downstream <code>Pipe</code> terminates.
</p><p>Since 0.5.0
</p></div></div><div class="top"><p class="src"><a name="v:leftover" class="def">leftover</a> ::  l -&gt; <a href="Data-Conduit.html#t:Pipe">Pipe</a> l i o u m <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Tuple.html#t:-40--41-">()</a></p><div class="doc"><p>Provide a single piece of leftover input to be consumed by the next pipe
 in the current monadic binding.
</p><p><em>Note</em>: it is highly encouraged to only return leftover values from input
 already consumed from upstream.
</p><p>Since 0.5.0
</p></div></div><h2 id="g:5">Finalization
</h2><div class="top"><p class="src"><a name="v:bracketP" class="def">bracketP</a> :: <a href="Data-Conduit.html#t:MonadResource">MonadResource</a> m =&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/System-IO.html#t:IO">IO</a> a -&gt; (a -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/System-IO.html#t:IO">IO</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Tuple.html#t:-40--41-">()</a>) -&gt; (a -&gt; <a href="Data-Conduit.html#t:Pipe">Pipe</a> l i o u m r) -&gt; <a href="Data-Conduit.html#t:Pipe">Pipe</a> l i o u m r</p><div class="doc"><p>Perform some allocation and run an inner <code>Pipe</code>. Two guarantees are given
 about resource finalization:
</p><ol><li> It will be <em>prompt</em>. The finalization will be run as early as possible.
</li><li> It is exception safe. Due to usage of <code>resourcet</code>, the finalization will
    be run in the event of any exceptions.
</li></ol><p>Since 0.5.0
</p></div></div><div class="top"><p class="src"><a name="v:addCleanup" class="def">addCleanup</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad.html#t:Monad">Monad</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; (<a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-Bool.html#t:Bool">Bool</a> -&gt; m <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Tuple.html#t:-40--41-">()</a>)</td><td class="doc"><p><code>True</code> if <code>Pipe</code> ran to completion, <code>False</code> for early termination.
</p></td></tr><tr><td class="src">-&gt; <a href="Data-Conduit.html#t:Pipe">Pipe</a> l i o u m r</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Data-Conduit.html#t:Pipe">Pipe</a> l i o u m r</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Add some code to be run when the given <code>Pipe</code> cleans up.
</p><p>Since 0.4.1
</p></div></div><h1 id="g:6">Connect-and-resume
</h1><div class="doc"><p>Sometimes, we do not want to force our entire application to live inside the
<code>Pipe</code> monad. It can be convenient to keep normal control flow of our program,
and incrementally apply data from a <code>Source</code> to various <code>Sink</code>s. A strong
motivating example for this use case is interleaving multiple <code>Source</code>s, such
as combining a <code>conduit</code>-powered HTTP server and client into an HTTP proxy.
</p><p>Normally, when we run a <code>Pipe</code>, we get a result and can never run it again.
Connect-and-resume allows us to connect a <code>Source</code> to a <code>Sink</code> until the latter
completes, and then return the current state of the <code>Source</code> to be applied
later. To do so, we introduce three new operators. Let' start off by
demonstrating them:
</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>:load Data.Conduit.List
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>(next, x) &lt;- sourceList [1..10] $$+ take 5
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>Prelude.print x
</code></strong>[1,2,3,4,5]
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>(next, y) &lt;- next $$++ (isolate 4 =$ fold (Prelude.+) 0)
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>Prelude.print y
</code></strong>30
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>next $$+- consume
</code></strong>[10]
</pre></div><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:ResumableSource" class="def">ResumableSource</a> m o </p><div class="doc"><p>A <code>Source</code> which has been started, but has not yet completed.
</p><p>This type contains both the current state of the <code>Source</code>, and the finalizer
 to be run to close it.
</p><p>Since 0.5.0
</p></div></div><div class="top"><p class="src"><a name="v:-36--36--43-" class="def">($$+)</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Data-Conduit.html#t:Source">Source</a> m a -&gt; <a href="Data-Conduit.html#t:Sink">Sink</a> a m b -&gt; m (<a href="Data-Conduit.html#t:ResumableSource">ResumableSource</a> m a, b)</p><div class="doc"><p>The connect-and-resume operator. This does not close the <code>Source</code>, but
 instead returns it to be used again. This allows a <code>Source</code> to be used
 incrementally in a large program, without forcing the entire program to live
 in the <code>Sink</code> monad.
</p><p>Mnemonic: connect + do more.
</p><p>Since 0.5.0
</p></div></div><div class="top"><p class="src"><a name="v:-36--36--43--43-" class="def">($$++)</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Data-Conduit.html#t:ResumableSource">ResumableSource</a> m a -&gt; <a href="Data-Conduit.html#t:Sink">Sink</a> a m b -&gt; m (<a href="Data-Conduit.html#t:ResumableSource">ResumableSource</a> m a, b)</p><div class="doc"><p>Continue processing after usage of <code>$$+</code>.
</p><p>Since 0.5.0
</p></div></div><div class="top"><p class="src"><a name="v:-36--36--43--45-" class="def">($$+-)</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Data-Conduit.html#t:ResumableSource">ResumableSource</a> m a -&gt; <a href="Data-Conduit.html#t:Sink">Sink</a> a m b -&gt; m b</p><div class="doc"><p>Complete processing of a <code>ResumableSource</code>. This will run the finalizer
 associated with the <code>ResumableSource</code>. In order to guarantee process resource
 finalization, you <em>must</em> use this operator after using <code>$$+</code> and <code>$$++</code>.
</p><p>Since 0.5.0
</p></div></div><div class="top"><p class="src"><a name="v:unwrapResumable" class="def">unwrapResumable</a> :: <a href="/Library/Haskell/ghc-7.4.2/lib/transformers-0.3.0.0/doc/html/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; <a href="Data-Conduit.html#t:ResumableSource">ResumableSource</a> m o -&gt; m (<a href="Data-Conduit.html#t:Source">Source</a> m o, m <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Tuple.html#t:-40--41-">()</a>)</p><div class="doc"><p>Unwraps a <code>ResumableSource</code> into a <code>Source</code> and a finalizer.
</p><p>A <code>ResumableSource</code> represents a <code>Source</code> which has already been run, and
 therefore has a finalizer registered. As a result, if we want to turn it
 into a regular <code>Source</code>, we need to ensure that the finalizer will be run
 appropriately. By appropriately, I mean:
</p><ul><li> If a new finalizer is registered, the old one should not be called.
 * If the old one is called, it should not be called again.
</li></ul><p>This function returns both a <code>Source</code> and a finalizer which ensures that the
 above two conditions hold. Once you call that finalizer, the <code>Source</code> is
 invalidated and cannot be used.
</p><p>Since 0.5.2
</p></div></div><h1 id="g:7">Utility functions
</h1><div class="top"><p class="src"><a name="v:transPipe" class="def">transPipe</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; (<span class="keyword">forall</span> a.  m a -&gt; n a) -&gt; <a href="Data-Conduit.html#t:Pipe">Pipe</a> l i o u m r -&gt; <a href="Data-Conduit.html#t:Pipe">Pipe</a> l i o u n r</p><div class="doc"><p>Transform the monad that a <code>Pipe</code> lives in.
</p><p>Note that the monad transforming function will be run multiple times,
 resulting in unintuitive behavior in some cases. For a fuller treatment,
 please see:
</p><p><a href="https://github.com/snoyberg/conduit/wiki/Dealing-with-monad-transformers">https://github.com/snoyberg/conduit/wiki/Dealing-with-monad-transformers</a>
</p><p>Since 0.4.0
</p></div></div><div class="top"><p class="src"><a name="v:mapOutput" class="def">mapOutput</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; (o1 -&gt; o2) -&gt; <a href="Data-Conduit.html#t:Pipe">Pipe</a> l i o1 u m r -&gt; <a href="Data-Conduit.html#t:Pipe">Pipe</a> l i o2 u m r</p><div class="doc"><p>Apply a function to all the output values of a <code>Pipe</code>.
</p><p>This mimics the behavior of <code><a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad.html#v:fmap">fmap</a></code> for a <code><a href="Data-Conduit.html#t:Source">Source</a></code> and <code><a href="Data-Conduit.html#t:Conduit">Conduit</a></code> in pre-0.4
 days.
</p><p>Since 0.4.1
</p></div></div><div class="top"><p class="src"><a name="v:mapOutputMaybe" class="def">mapOutputMaybe</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; (o1 -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-Maybe.html#t:Maybe">Maybe</a> o2) -&gt; <a href="Data-Conduit.html#t:Pipe">Pipe</a> l i o1 u m r -&gt; <a href="Data-Conduit.html#t:Pipe">Pipe</a> l i o2 u m r</p><div class="doc"><p>Same as <code><a href="Data-Conduit.html#v:mapOutput">mapOutput</a></code>, but use a function that returns <code>Maybe</code> values.
</p><p>Since 0.5.0
</p></div></div><div class="top"><p class="src"><a name="v:mapInput" class="def">mapInput</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad.html#t:Monad">Monad</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; (i1 -&gt; i2)</td><td class="doc"><p>map initial input to new input
</p></td></tr><tr><td class="src">-&gt; (l2 -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-Maybe.html#t:Maybe">Maybe</a> l1)</td><td class="doc"><p>map new leftovers to initial leftovers
</p></td></tr><tr><td class="src">-&gt; <a href="Data-Conduit.html#t:Pipe">Pipe</a> l2 i2 o u m r</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Data-Conduit.html#t:Pipe">Pipe</a> l1 i1 o u m r</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Apply a function to all the input values of a <code>Pipe</code>.
</p><p>Since 0.5.0
</p></div></div><div class="top"><p class="src"><a name="v:withUpstream" class="def">withUpstream</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Data-Conduit.html#t:Pipe">Pipe</a> l i o u m r -&gt; <a href="Data-Conduit.html#t:Pipe">Pipe</a> l i o u m (u, r)</p><div class="doc"><p>Returns a tuple of the upstream and downstream results. Note that this
 will force consumption of the entire input stream.
</p><p>Since 0.5.0
</p></div></div><h1 id="g:8">Generalized conduit types
</h1><div class="doc"><p>It's recommended to keep your type signatures as general as possible to
encourage reuse. For example, a theoretical signature for the <code>head</code> function
would be:
</p><pre> head :: Sink a m (Maybe a)
</pre><p>However, doing so would prevent usage of <code>head</code> from inside a <code>Conduit</code>, since
a <code>Sink</code> sets its output type parameter to <code>Void</code>. The most general type
signature would instead be:
</p><pre> head :: Pipe l a o u m (Maybe a)
</pre><p>However, that signature is much more confusing. To bridge this gap, we also
provide some generalized conduit types. They follow a simple naming convention:
</p><ul><li> They have the same name as their non-generalized types, with a <code>G</code> prepended.
</li><li> If they have leftovers, we add an <code>L</code>.
</li><li> If they consume the entirety of their input stream and return the upstream
  result, we add <code>Inf</code> to indicate <em>infinite consumption</em>.
</li></ul></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:GSource" class="def">GSource</a> m o = <span class="keyword">forall</span> l i u.  <a href="Data-Conduit.html#t:Pipe">Pipe</a> l i o u m <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Tuple.html#t:-40--41-">()</a></p><div class="doc"><p>Generalized <code><a href="Data-Conduit.html#t:Source">Source</a></code>.
</p><p>Since 0.5.0
</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:GSink" class="def">GSink</a> i m r = <span class="keyword">forall</span> l o u.  <a href="Data-Conduit.html#t:Pipe">Pipe</a> l i o u m r</p><div class="doc"><p>Generalized <code><a href="Data-Conduit.html#t:Sink">Sink</a></code> without leftovers.
</p><p>Since 0.5.0
</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:GLSink" class="def">GLSink</a> i m r = <span class="keyword">forall</span> o u.  <a href="Data-Conduit.html#t:Pipe">Pipe</a> i i o u m r</p><div class="doc"><p>Generalized <code><a href="Data-Conduit.html#t:Sink">Sink</a></code> with leftovers.
</p><p>Since 0.5.0
</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:GInfSink" class="def">GInfSink</a> i m = <span class="keyword">forall</span> l o r.  <a href="Data-Conduit.html#t:Pipe">Pipe</a> l i o r m r</p><div class="doc"><p>Generalized <code><a href="Data-Conduit.html#t:Sink">Sink</a></code> without leftovers returning upstream result.
</p><p>Since 0.5.0
</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:GLInfSink" class="def">GLInfSink</a> i m = <span class="keyword">forall</span> o r.  <a href="Data-Conduit.html#t:Pipe">Pipe</a> i i o r m r</p><div class="doc"><p>Generalized <code><a href="Data-Conduit.html#t:Sink">Sink</a></code> with leftovers returning upstream result.
</p><p>Since 0.5.0
</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:GConduit" class="def">GConduit</a> i m o = <span class="keyword">forall</span> l u.  <a href="Data-Conduit.html#t:Pipe">Pipe</a> l i o u m <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Tuple.html#t:-40--41-">()</a></p><div class="doc"><p>Generalized conduit without leftovers.
</p><p>Since 0.5.0
</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:GLConduit" class="def">GLConduit</a> i m o = <span class="keyword">forall</span> u.  <a href="Data-Conduit.html#t:Pipe">Pipe</a> i i o u m <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Tuple.html#t:-40--41-">()</a></p><div class="doc"><p>Generalized conduit with leftovers.
</p><p>Since 0.5.0
</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:GInfConduit" class="def">GInfConduit</a> i m o = <span class="keyword">forall</span> l r.  <a href="Data-Conduit.html#t:Pipe">Pipe</a> l i o r m r</p><div class="doc"><p>Generalized conduit without leftovers returning upstream result.
</p><p>Since 0.5.0
</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:GLInfConduit" class="def">GLInfConduit</a> i m o = <span class="keyword">forall</span> r.  <a href="Data-Conduit.html#t:Pipe">Pipe</a> i i o r m r</p><div class="doc"><p>Generalized conduit with leftovers returning upstream result.
</p><p>Since 0.5.0
</p></div></div><h1 id="g:9">Flushing
</h1><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:Flush" class="def">Flush</a> a </p><div class="doc"><p>Provide for a stream of data that can be flushed.
</p><p>A number of <code>Conduit</code>s (e.g., zlib compression) need the ability to flush
 the stream at some point. This provides a single wrapper datatype to be used
 in all such circumstances.
</p><p>Since 0.3.0
</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Chunk" class="def">Chunk</a> a</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:Flush" class="def">Flush</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:Flush" class="caption collapser" onclick="toggleSection('i:Flush')">Instances</p><div id="section.i:Flush" class="show"><table><tr><td class="src"><a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad.html#t:Functor">Functor</a> <a href="Data-Conduit.html#t:Flush">Flush</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-Eq.html#t:Eq">Eq</a> a =&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-Eq.html#t:Eq">Eq</a> (<a href="Data-Conduit.html#t:Flush">Flush</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-Ord.html#t:Ord">Ord</a> a =&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-Ord.html#t:Ord">Ord</a> (<a href="Data-Conduit.html#t:Flush">Flush</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Text-Show.html#t:Show">Show</a> a =&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Text-Show.html#t:Show">Show</a> (<a href="Data-Conduit.html#t:Flush">Flush</a> a)</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><h1 id="g:10">Convenience re-exports
</h1><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:ResourceT" class="def">ResourceT</a> m a </p><div class="doc"><p>The Resource transformer. This transformer keeps track of all registered
 actions, and calls them upon exit (via <code><a href="Data-Conduit.html#v:runResourceT">runResourceT</a></code>). Actions may be
 registered via <code><a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Control-Monad-Trans-Resource.html#v:register">register</a></code>, or resources may be allocated atomically via
 <code><a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Control-Monad-Trans-Resource.html#v:allocate">allocate</a></code>. <code>allocate</code> corresponds closely to <code>bracket</code>.
</p><p>Releasing may be performed before exit via the <code><a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Control-Monad-Trans-Resource.html#v:release">release</a></code> function. This is a
 highly recommended optimization, as it will ensure that scarce resources are
 freed early. Note that calling <code>release</code> will deregister the action, so that
 a release action will only ever be called once.
</p><p>Since 0.3.0
</p></div><div class="subs instances"><p id="control.i:ResourceT" class="caption collapser" onclick="toggleSection('i:ResourceT')">Instances</p><div id="section.i:ResourceT" class="show"><table><tr><td class="src"><a href="/Library/Haskell/ghc-7.4.2/lib/transformers-0.3.0.0/doc/html/Control-Monad-Trans-Class.html#t:MonadTrans">MonadTrans</a> <a href="Data-Conduit.html#t:ResourceT">ResourceT</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Control-Monad-Trans-Control.html#t:MonadTransControl">MonadTransControl</a> <a href="Data-Conduit.html#t:ResourceT">ResourceT</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Library/Haskell/ghc-7.4.2/lib/mtl-2.1.2/doc/html/Control-Monad-RWS-Class.html#t:MonadRWS">MonadRWS</a> r w s m =&gt; <a href="/Library/Haskell/ghc-7.4.2/lib/mtl-2.1.2/doc/html/Control-Monad-RWS-Class.html#t:MonadRWS">MonadRWS</a> r w s (<a href="Data-Conduit.html#t:ResourceT">ResourceT</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Control-Monad-Base.html#t:MonadBase">MonadBase</a> b m =&gt; <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Control-Monad-Base.html#t:MonadBase">MonadBase</a> b (<a href="Data-Conduit.html#t:ResourceT">ResourceT</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-Conduit.html#t:MonadBaseControl">MonadBaseControl</a> b m =&gt; <a href="Data-Conduit.html#t:MonadBaseControl">MonadBaseControl</a> b (<a href="Data-Conduit.html#t:ResourceT">ResourceT</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Library/Haskell/ghc-7.4.2/lib/mtl-2.1.2/doc/html/Control-Monad-Error-Class.html#t:MonadError">MonadError</a> e m =&gt; <a href="/Library/Haskell/ghc-7.4.2/lib/mtl-2.1.2/doc/html/Control-Monad-Error-Class.html#t:MonadError">MonadError</a> e (<a href="Data-Conduit.html#t:ResourceT">ResourceT</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Library/Haskell/ghc-7.4.2/lib/mtl-2.1.2/doc/html/Control-Monad-Reader-Class.html#t:MonadReader">MonadReader</a> r m =&gt; <a href="/Library/Haskell/ghc-7.4.2/lib/mtl-2.1.2/doc/html/Control-Monad-Reader-Class.html#t:MonadReader">MonadReader</a> r (<a href="Data-Conduit.html#t:ResourceT">ResourceT</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Library/Haskell/ghc-7.4.2/lib/mtl-2.1.2/doc/html/Control-Monad-State-Class.html#t:MonadState">MonadState</a> s m =&gt; <a href="/Library/Haskell/ghc-7.4.2/lib/mtl-2.1.2/doc/html/Control-Monad-State-Class.html#t:MonadState">MonadState</a> s (<a href="Data-Conduit.html#t:ResourceT">ResourceT</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Library/Haskell/ghc-7.4.2/lib/mtl-2.1.2/doc/html/Control-Monad-Writer-Class.html#t:MonadWriter">MonadWriter</a> w m =&gt; <a href="/Library/Haskell/ghc-7.4.2/lib/mtl-2.1.2/doc/html/Control-Monad-Writer-Class.html#t:MonadWriter">MonadWriter</a> w (<a href="Data-Conduit.html#t:ResourceT">ResourceT</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad.html#t:Monad">Monad</a> (<a href="Data-Conduit.html#t:ResourceT">ResourceT</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad.html#t:Functor">Functor</a> m =&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad.html#t:Functor">Functor</a> (<a href="Data-Conduit.html#t:ResourceT">ResourceT</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-Typeable-Internal.html#t:Typeable1">Typeable1</a> m =&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-Typeable-Internal.html#t:Typeable1">Typeable1</a> (<a href="Data-Conduit.html#t:ResourceT">ResourceT</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Applicative.html#t:Applicative">Applicative</a> m =&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Applicative.html#t:Applicative">Applicative</a> (<a href="Data-Conduit.html#t:ResourceT">ResourceT</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Library/Haskell/ghc-7.4.2/lib/transformers-0.3.0.0/doc/html/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; <a href="/Library/Haskell/ghc-7.4.2/lib/transformers-0.3.0.0/doc/html/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> (<a href="Data-Conduit.html#t:ResourceT">ResourceT</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Library/Haskell/ghc-7.4.2/lib/mtl-2.1.2/doc/html/Control-Monad-Cont-Class.html#t:MonadCont">MonadCont</a> m =&gt; <a href="/Library/Haskell/ghc-7.4.2/lib/mtl-2.1.2/doc/html/Control-Monad-Cont-Class.html#t:MonadCont">MonadCont</a> (<a href="Data-Conduit.html#t:ResourceT">ResourceT</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="Data-Conduit.html#t:MonadThrow">MonadThrow</a> m, <a href="Data-Conduit.html#t:MonadUnsafeIO">MonadUnsafeIO</a> m, <a href="/Library/Haskell/ghc-7.4.2/lib/transformers-0.3.0.0/doc/html/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Applicative.html#t:Applicative">Applicative</a> m) =&gt; <a href="Data-Conduit.html#t:MonadResource">MonadResource</a> (<a href="Data-Conduit.html#t:ResourceT">ResourceT</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-Conduit.html#t:MonadThrow">MonadThrow</a> m =&gt; <a href="Data-Conduit.html#t:MonadThrow">MonadThrow</a> (<a href="Data-Conduit.html#t:ResourceT">ResourceT</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="/Library/Haskell/ghc-7.4.2/lib/transformers-0.3.0.0/doc/html/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Control-Monad-Trans-Resource.html#t:MonadActive">MonadActive</a> m) =&gt; <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Control-Monad-Trans-Resource.html#t:MonadActive">MonadActive</a> (<a href="Data-Conduit.html#t:ResourceT">ResourceT</a> m)</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">class</span> (<a href="Data-Conduit.html#t:MonadThrow">MonadThrow</a> m, <a href="Data-Conduit.html#t:MonadUnsafeIO">MonadUnsafeIO</a> m, <a href="/Library/Haskell/ghc-7.4.2/lib/transformers-0.3.0.0/doc/html/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Applicative.html#t:Applicative">Applicative</a> m) =&gt; <a name="t:MonadResource" class="def">MonadResource</a> m </p><div class="doc"><p>A <code>Monad</code> which allows for safe resource allocation. In theory, any monad
 transformer stack included a <code>ResourceT</code> can be an instance of
 <code>MonadResource</code>.
</p><p>Note: <code>runResourceT</code> has a requirement for a <code>MonadBaseControl IO m</code> monad,
 which allows control operations to be lifted. A <code>MonadResource</code> does not
 have this requirement. This means that transformers such as <code>ContT</code> can be
 an instance of <code>MonadResource</code>. However, the <code>ContT</code> wrapper will need to be
 unwrapped before calling <code>runResourceT</code>.
</p><p>Since 0.3.0
</p></div><div class="subs instances"><p id="control.i:MonadResource" class="caption collapser" onclick="toggleSection('i:MonadResource')">Instances</p><div id="section.i:MonadResource" class="show"><table><tr><td class="src"><a href="Data-Conduit.html#t:MonadResource">MonadResource</a> m =&gt; <a href="Data-Conduit.html#t:MonadResource">MonadResource</a> (<a href="/Library/Haskell/ghc-7.4.2/lib/mtl-2.1.2/doc/html/Control-Monad-List.html#t:ListT">ListT</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="Data-Conduit.html#t:MonadThrow">MonadThrow</a> m, <a href="Data-Conduit.html#t:MonadUnsafeIO">MonadUnsafeIO</a> m, <a href="/Library/Haskell/ghc-7.4.2/lib/transformers-0.3.0.0/doc/html/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Applicative.html#t:Applicative">Applicative</a> m) =&gt; <a href="Data-Conduit.html#t:MonadResource">MonadResource</a> (<a href="Data-Conduit.html#t:ResourceT">ResourceT</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-Conduit.html#t:MonadResource">MonadResource</a> m =&gt; <a href="Data-Conduit.html#t:MonadResource">MonadResource</a> (<a href="/Library/Haskell/ghc-7.4.2/lib/transformers-0.3.0.0/doc/html/Control-Monad-Trans-Maybe.html#t:MaybeT">MaybeT</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-Conduit.html#t:MonadResource">MonadResource</a> m =&gt; <a href="Data-Conduit.html#t:MonadResource">MonadResource</a> (<a href="/Library/Haskell/ghc-7.4.2/lib/transformers-0.3.0.0/doc/html/Control-Monad-Trans-Identity.html#t:IdentityT">IdentityT</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-Conduit.html#t:MonadResource">MonadResource</a> m =&gt; <a href="Data-Conduit.html#t:MonadResource">MonadResource</a> (<a href="/Library/Haskell/ghc-7.4.2/lib/mtl-2.1.2/doc/html/Control-Monad-Cont.html#t:ContT">ContT</a> r m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="/Library/Haskell/ghc-7.4.2/lib/mtl-2.1.2/doc/html/Control-Monad-Error-Class.html#t:Error">Error</a> e, <a href="Data-Conduit.html#t:MonadResource">MonadResource</a> m) =&gt; <a href="Data-Conduit.html#t:MonadResource">MonadResource</a> (<a href="/Library/Haskell/ghc-7.4.2/lib/mtl-2.1.2/doc/html/Control-Monad-Error.html#t:ErrorT">ErrorT</a> e m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-Conduit.html#t:MonadResource">MonadResource</a> m =&gt; <a href="Data-Conduit.html#t:MonadResource">MonadResource</a> (<a href="/Library/Haskell/ghc-7.4.2/lib/mtl-2.1.2/doc/html/Control-Monad-Reader.html#t:ReaderT">ReaderT</a> r m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-Conduit.html#t:MonadResource">MonadResource</a> m =&gt; <a href="Data-Conduit.html#t:MonadResource">MonadResource</a> (<a href="/Library/Haskell/ghc-7.4.2/lib/mtl-2.1.2/doc/html/Control-Monad-State-Lazy.html#t:StateT">StateT</a> s m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-Conduit.html#t:MonadResource">MonadResource</a> m =&gt; <a href="Data-Conduit.html#t:MonadResource">MonadResource</a> (<a href="/Library/Haskell/ghc-7.4.2/lib/mtl-2.1.2/doc/html/Control-Monad-State-Strict.html#t:StateT">StateT</a> s m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-Monoid.html#t:Monoid">Monoid</a> w, <a href="Data-Conduit.html#t:MonadResource">MonadResource</a> m) =&gt; <a href="Data-Conduit.html#t:MonadResource">MonadResource</a> (<a href="/Library/Haskell/ghc-7.4.2/lib/mtl-2.1.2/doc/html/Control-Monad-Writer-Lazy.html#t:WriterT">WriterT</a> w m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-Monoid.html#t:Monoid">Monoid</a> w, <a href="Data-Conduit.html#t:MonadResource">MonadResource</a> m) =&gt; <a href="Data-Conduit.html#t:MonadResource">MonadResource</a> (<a href="/Library/Haskell/ghc-7.4.2/lib/mtl-2.1.2/doc/html/Control-Monad-Writer-Strict.html#t:WriterT">WriterT</a> w m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-Monoid.html#t:Monoid">Monoid</a> w, <a href="Data-Conduit.html#t:MonadResource">MonadResource</a> m) =&gt; <a href="Data-Conduit.html#t:MonadResource">MonadResource</a> (<a href="/Library/Haskell/ghc-7.4.2/lib/mtl-2.1.2/doc/html/Control-Monad-RWS-Lazy.html#t:RWST">RWST</a> r w s m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-Monoid.html#t:Monoid">Monoid</a> w, <a href="Data-Conduit.html#t:MonadResource">MonadResource</a> m) =&gt; <a href="Data-Conduit.html#t:MonadResource">MonadResource</a> (<a href="/Library/Haskell/ghc-7.4.2/lib/mtl-2.1.2/doc/html/Control-Monad-RWS-Strict.html#t:RWST">RWST</a> r w s m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-Conduit.html#t:MonadResource">MonadResource</a> m =&gt; <a href="Data-Conduit.html#t:MonadResource">MonadResource</a> (<a href="Data-Conduit.html#t:Pipe">Pipe</a> l i o u m)</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a name="t:MonadThrow" class="def">MonadThrow</a> m  <span class="keyword">where</span></p><div class="doc"><p>A <code>Monad</code> which can throw exceptions. Note that this does not work in a
 vanilla <code>ST</code> or <code>Identity</code> monad. Instead, you should use the <code><a href="Data-Conduit.html#t:ExceptionT">ExceptionT</a></code>
 transformer in your stack if you are dealing with a non-<code>IO</code> base monad.
</p><p>Since 0.3.0
</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:monadThrow" class="def">monadThrow</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Exception-Base.html#t:Exception">Exception</a> e =&gt; e -&gt; m a</p></div><div class="subs instances"><p id="control.i:MonadThrow" class="caption collapser" onclick="toggleSection('i:MonadThrow')">Instances</p><div id="section.i:MonadThrow" class="show"><table><tr><td class="src"><a href="Data-Conduit.html#t:MonadThrow">MonadThrow</a> []</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-Conduit.html#t:MonadThrow">MonadThrow</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/System-IO.html#t:IO">IO</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-Conduit.html#t:MonadThrow">MonadThrow</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-Maybe.html#t:Maybe">Maybe</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-Conduit.html#t:MonadThrow">MonadThrow</a> (<a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-Either.html#t:Either">Either</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Exception-Base.html#t:SomeException">SomeException</a>)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-Conduit.html#t:MonadThrow">MonadThrow</a> m =&gt; <a href="Data-Conduit.html#t:MonadThrow">MonadThrow</a> (<a href="/Library/Haskell/ghc-7.4.2/lib/mtl-2.1.2/doc/html/Control-Monad-List.html#t:ListT">ListT</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-Conduit.html#t:MonadThrow">MonadThrow</a> m =&gt; <a href="Data-Conduit.html#t:MonadThrow">MonadThrow</a> (<a href="Data-Conduit.html#t:ResourceT">ResourceT</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Data-Conduit.html#t:MonadThrow">MonadThrow</a> (<a href="Data-Conduit.html#t:ExceptionT">ExceptionT</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-Conduit.html#t:MonadThrow">MonadThrow</a> m =&gt; <a href="Data-Conduit.html#t:MonadThrow">MonadThrow</a> (<a href="/Library/Haskell/ghc-7.4.2/lib/transformers-0.3.0.0/doc/html/Control-Monad-Trans-Maybe.html#t:MaybeT">MaybeT</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-Conduit.html#t:MonadThrow">MonadThrow</a> m =&gt; <a href="Data-Conduit.html#t:MonadThrow">MonadThrow</a> (<a href="/Library/Haskell/ghc-7.4.2/lib/transformers-0.3.0.0/doc/html/Control-Monad-Trans-Identity.html#t:IdentityT">IdentityT</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-Conduit.html#t:MonadThrow">MonadThrow</a> m =&gt; <a href="Data-Conduit.html#t:MonadThrow">MonadThrow</a> (<a href="/Library/Haskell/ghc-7.4.2/lib/mtl-2.1.2/doc/html/Control-Monad-Cont.html#t:ContT">ContT</a> r m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="/Library/Haskell/ghc-7.4.2/lib/mtl-2.1.2/doc/html/Control-Monad-Error-Class.html#t:Error">Error</a> e, <a href="Data-Conduit.html#t:MonadThrow">MonadThrow</a> m) =&gt; <a href="Data-Conduit.html#t:MonadThrow">MonadThrow</a> (<a href="/Library/Haskell/ghc-7.4.2/lib/mtl-2.1.2/doc/html/Control-Monad-Error.html#t:ErrorT">ErrorT</a> e m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-Conduit.html#t:MonadThrow">MonadThrow</a> m =&gt; <a href="Data-Conduit.html#t:MonadThrow">MonadThrow</a> (<a href="/Library/Haskell/ghc-7.4.2/lib/mtl-2.1.2/doc/html/Control-Monad-Reader.html#t:ReaderT">ReaderT</a> r m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-Conduit.html#t:MonadThrow">MonadThrow</a> m =&gt; <a href="Data-Conduit.html#t:MonadThrow">MonadThrow</a> (<a href="/Library/Haskell/ghc-7.4.2/lib/mtl-2.1.2/doc/html/Control-Monad-State-Lazy.html#t:StateT">StateT</a> s m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-Conduit.html#t:MonadThrow">MonadThrow</a> m =&gt; <a href="Data-Conduit.html#t:MonadThrow">MonadThrow</a> (<a href="/Library/Haskell/ghc-7.4.2/lib/mtl-2.1.2/doc/html/Control-Monad-State-Strict.html#t:StateT">StateT</a> s m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-Monoid.html#t:Monoid">Monoid</a> w, <a href="Data-Conduit.html#t:MonadThrow">MonadThrow</a> m) =&gt; <a href="Data-Conduit.html#t:MonadThrow">MonadThrow</a> (<a href="/Library/Haskell/ghc-7.4.2/lib/mtl-2.1.2/doc/html/Control-Monad-Writer-Lazy.html#t:WriterT">WriterT</a> w m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-Monoid.html#t:Monoid">Monoid</a> w, <a href="Data-Conduit.html#t:MonadThrow">MonadThrow</a> m) =&gt; <a href="Data-Conduit.html#t:MonadThrow">MonadThrow</a> (<a href="/Library/Haskell/ghc-7.4.2/lib/mtl-2.1.2/doc/html/Control-Monad-Writer-Strict.html#t:WriterT">WriterT</a> w m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-Monoid.html#t:Monoid">Monoid</a> w, <a href="Data-Conduit.html#t:MonadThrow">MonadThrow</a> m) =&gt; <a href="Data-Conduit.html#t:MonadThrow">MonadThrow</a> (<a href="/Library/Haskell/ghc-7.4.2/lib/mtl-2.1.2/doc/html/Control-Monad-RWS-Lazy.html#t:RWST">RWST</a> r w s m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-Monoid.html#t:Monoid">Monoid</a> w, <a href="Data-Conduit.html#t:MonadThrow">MonadThrow</a> m) =&gt; <a href="Data-Conduit.html#t:MonadThrow">MonadThrow</a> (<a href="/Library/Haskell/ghc-7.4.2/lib/mtl-2.1.2/doc/html/Control-Monad-RWS-Strict.html#t:RWST">RWST</a> r w s m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-Conduit.html#t:MonadThrow">MonadThrow</a> m =&gt; <a href="Data-Conduit.html#t:MonadThrow">MonadThrow</a> (<a href="Data-Conduit.html#t:Pipe">Pipe</a> l i o u m)</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a name="t:MonadUnsafeIO" class="def">MonadUnsafeIO</a> m  <span class="keyword">where</span></p><div class="doc"><p>A <code>Monad</code> based on some monad which allows running of some <code><a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/System-IO.html#t:IO">IO</a></code> actions,
 via unsafe calls. This applies to <code><a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/System-IO.html#t:IO">IO</a></code> and <code><a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad-ST-Safe.html#t:ST">ST</a></code>, for instance.
</p><p>Since 0.3.0
</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:unsafeLiftIO" class="def">unsafeLiftIO</a> ::  <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/System-IO.html#t:IO">IO</a> a -&gt; m a</p></div><div class="subs instances"><p id="control.i:MonadUnsafeIO" class="caption collapser" onclick="toggleSection('i:MonadUnsafeIO')">Instances</p><div id="section.i:MonadUnsafeIO" class="show"><table><tr><td class="src"><a href="Data-Conduit.html#t:MonadUnsafeIO">MonadUnsafeIO</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/System-IO.html#t:IO">IO</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="/Library/Haskell/ghc-7.4.2/lib/transformers-0.3.0.0/doc/html/Control-Monad-Trans-Class.html#t:MonadTrans">MonadTrans</a> t, <a href="Data-Conduit.html#t:MonadUnsafeIO">MonadUnsafeIO</a> m, <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad.html#t:Monad">Monad</a> (t m)) =&gt; <a href="Data-Conduit.html#t:MonadUnsafeIO">MonadUnsafeIO</a> (t m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-Conduit.html#t:MonadUnsafeIO">MonadUnsafeIO</a> (<a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad-ST-Safe.html#t:ST">ST</a> s)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-Conduit.html#t:MonadUnsafeIO">MonadUnsafeIO</a> (<a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad-ST-Lazy-Safe.html#t:ST">ST</a> s)</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:runResourceT" class="def">runResourceT</a> :: <a href="Data-Conduit.html#t:MonadBaseControl">MonadBaseControl</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/System-IO.html#t:IO">IO</a> m =&gt; <a href="Data-Conduit.html#t:ResourceT">ResourceT</a> m a -&gt; m a</p><div class="doc"><p>Unwrap a <code><a href="Data-Conduit.html#t:ResourceT">ResourceT</a></code> transformer, and call all registered release actions.
</p><p>Note that there is some reference counting involved due to <code><a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Control-Monad-Trans-Resource.html#v:resourceForkIO">resourceForkIO</a></code>.
 If multiple threads are sharing the same collection of resources, only the
 last call to <code>runResourceT</code> will deallocate the resources.
</p><p>Since 0.3.0
</p></div></div><div class="top"><p class="src"><span class="keyword">newtype</span>  <a name="t:ExceptionT" class="def">ExceptionT</a> m a </p><div class="doc"><p>The express purpose of this transformer is to allow non-<code>IO</code>-based monad
 stacks to catch exceptions via the <code><a href="Data-Conduit.html#t:MonadThrow">MonadThrow</a></code> typeclass.
</p><p>Since 0.3.0
</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:ExceptionT" class="def">ExceptionT</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:runExceptionT" class="def">runExceptionT</a> :: m (<a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-Either.html#t:Either">Either</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Exception-Base.html#t:SomeException">SomeException</a> a)</dt><dd class="doc empty">&nbsp;</dd></dl><div class="clear"></div></div></td></tr></table></div><div class="subs instances"><p id="control.i:ExceptionT" class="caption collapser" onclick="toggleSection('i:ExceptionT')">Instances</p><div id="section.i:ExceptionT" class="show"><table><tr><td class="src"><a href="/Library/Haskell/ghc-7.4.2/lib/transformers-0.3.0.0/doc/html/Control-Monad-Trans-Class.html#t:MonadTrans">MonadTrans</a> <a href="Data-Conduit.html#t:ExceptionT">ExceptionT</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Control-Monad-Trans-Control.html#t:MonadTransControl">MonadTransControl</a> <a href="Data-Conduit.html#t:ExceptionT">ExceptionT</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Library/Haskell/ghc-7.4.2/lib/mtl-2.1.2/doc/html/Control-Monad-RWS-Class.html#t:MonadRWS">MonadRWS</a> r w s m =&gt; <a href="/Library/Haskell/ghc-7.4.2/lib/mtl-2.1.2/doc/html/Control-Monad-RWS-Class.html#t:MonadRWS">MonadRWS</a> r w s (<a href="Data-Conduit.html#t:ExceptionT">ExceptionT</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Control-Monad-Base.html#t:MonadBase">MonadBase</a> b m =&gt; <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Control-Monad-Base.html#t:MonadBase">MonadBase</a> b (<a href="Data-Conduit.html#t:ExceptionT">ExceptionT</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-Conduit.html#t:MonadBaseControl">MonadBaseControl</a> b m =&gt; <a href="Data-Conduit.html#t:MonadBaseControl">MonadBaseControl</a> b (<a href="Data-Conduit.html#t:ExceptionT">ExceptionT</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Library/Haskell/ghc-7.4.2/lib/mtl-2.1.2/doc/html/Control-Monad-Error-Class.html#t:MonadError">MonadError</a> e m =&gt; <a href="/Library/Haskell/ghc-7.4.2/lib/mtl-2.1.2/doc/html/Control-Monad-Error-Class.html#t:MonadError">MonadError</a> e (<a href="Data-Conduit.html#t:ExceptionT">ExceptionT</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Library/Haskell/ghc-7.4.2/lib/mtl-2.1.2/doc/html/Control-Monad-Reader-Class.html#t:MonadReader">MonadReader</a> r m =&gt; <a href="/Library/Haskell/ghc-7.4.2/lib/mtl-2.1.2/doc/html/Control-Monad-Reader-Class.html#t:MonadReader">MonadReader</a> r (<a href="Data-Conduit.html#t:ExceptionT">ExceptionT</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Library/Haskell/ghc-7.4.2/lib/mtl-2.1.2/doc/html/Control-Monad-State-Class.html#t:MonadState">MonadState</a> s m =&gt; <a href="/Library/Haskell/ghc-7.4.2/lib/mtl-2.1.2/doc/html/Control-Monad-State-Class.html#t:MonadState">MonadState</a> s (<a href="Data-Conduit.html#t:ExceptionT">ExceptionT</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Library/Haskell/ghc-7.4.2/lib/mtl-2.1.2/doc/html/Control-Monad-Writer-Class.html#t:MonadWriter">MonadWriter</a> w m =&gt; <a href="/Library/Haskell/ghc-7.4.2/lib/mtl-2.1.2/doc/html/Control-Monad-Writer-Class.html#t:MonadWriter">MonadWriter</a> w (<a href="Data-Conduit.html#t:ExceptionT">ExceptionT</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad.html#t:Monad">Monad</a> (<a href="Data-Conduit.html#t:ExceptionT">ExceptionT</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad.html#t:Functor">Functor</a> (<a href="Data-Conduit.html#t:ExceptionT">ExceptionT</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Applicative.html#t:Applicative">Applicative</a> (<a href="Data-Conduit.html#t:ExceptionT">ExceptionT</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Library/Haskell/ghc-7.4.2/lib/mtl-2.1.2/doc/html/Control-Monad-Cont-Class.html#t:MonadCont">MonadCont</a> m =&gt; <a href="/Library/Haskell/ghc-7.4.2/lib/mtl-2.1.2/doc/html/Control-Monad-Cont-Class.html#t:MonadCont">MonadCont</a> (<a href="Data-Conduit.html#t:ExceptionT">ExceptionT</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Data-Conduit.html#t:MonadThrow">MonadThrow</a> (<a href="Data-Conduit.html#t:ExceptionT">ExceptionT</a> m)</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:runExceptionT_" class="def">runExceptionT_</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Data-Conduit.html#t:ExceptionT">ExceptionT</a> m a -&gt; m a</p><div class="doc"><p>Same as <code><a href="Data-Conduit.html#v:runExceptionT">runExceptionT</a></code>, but immediately <code><a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Exception-Base.html#v:throw">throw</a></code> any exception returned.
</p><p>Since 0.3.0
</p></div></div><div class="top"><p class="src"><a name="v:runException" class="def">runException</a> ::  <a href="Data-Conduit.html#t:ExceptionT">ExceptionT</a> <a href="/Library/Haskell/ghc-7.4.2/lib/transformers-0.3.0.0/doc/html/Data-Functor-Identity.html#t:Identity">Identity</a> a -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-Either.html#t:Either">Either</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Exception-Base.html#t:SomeException">SomeException</a> a</p><div class="doc"><p>Run an <code>ExceptionT Identity</code> stack.
</p><p>Since 0.4.2
</p></div></div><div class="top"><p class="src"><a name="v:runException_" class="def">runException_</a> ::  <a href="Data-Conduit.html#t:ExceptionT">ExceptionT</a> <a href="/Library/Haskell/ghc-7.4.2/lib/transformers-0.3.0.0/doc/html/Data-Functor-Identity.html#t:Identity">Identity</a> a -&gt; a</p><div class="doc"><p>Run an <code>ExceptionT Identity</code> stack, but immediately <code><a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Exception-Base.html#v:throw">throw</a></code> any exception returned.
</p><p>Since 0.4.2
</p></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a href="/Users/mizu_tama/workspace/yesodprojects/myfirstyesod/cabal-dev//doc/html/Control-Monad-Base.html#t:MonadBase">MonadBase</a> b m =&gt; <a name="t:MonadBaseControl" class="def">MonadBaseControl</a> b m | m -&gt; b</p><div class="subs instances"><p id="control.i:MonadBaseControl" class="caption collapser" onclick="toggleSection('i:MonadBaseControl')">Instances</p><div id="section.i:MonadBaseControl" class="show"><table><tr><td class="src"><a href="Data-Conduit.html#t:MonadBaseControl">MonadBaseControl</a> [] []</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-Conduit.html#t:MonadBaseControl">MonadBaseControl</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/System-IO.html#t:IO">IO</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/System-IO.html#t:IO">IO</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-Conduit.html#t:MonadBaseControl">MonadBaseControl</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/GHC-Conc.html#t:STM">STM</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/GHC-Conc.html#t:STM">STM</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-Conduit.html#t:MonadBaseControl">MonadBaseControl</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-Maybe.html#t:Maybe">Maybe</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-Conduit.html#t:MonadBaseControl">MonadBaseControl</a> <a href="/Library/Haskell/ghc-7.4.2/lib/transformers-0.3.0.0/doc/html/Data-Functor-Identity.html#t:Identity">Identity</a> <a href="/Library/Haskell/ghc-7.4.2/lib/transformers-0.3.0.0/doc/html/Data-Functor-Identity.html#t:Identity">Identity</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-Conduit.html#t:MonadBaseControl">MonadBaseControl</a> b m =&gt; <a href="Data-Conduit.html#t:MonadBaseControl">MonadBaseControl</a> b (<a href="/Library/Haskell/ghc-7.4.2/lib/transformers-0.3.0.0/doc/html/Control-Monad-Trans-Maybe.html#t:MaybeT">MaybeT</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-Conduit.html#t:MonadBaseControl">MonadBaseControl</a> b m =&gt; <a href="Data-Conduit.html#t:MonadBaseControl">MonadBaseControl</a> b (<a href="/Library/Haskell/ghc-7.4.2/lib/mtl-2.1.2/doc/html/Control-Monad-List.html#t:ListT">ListT</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-Conduit.html#t:MonadBaseControl">MonadBaseControl</a> b m =&gt; <a href="Data-Conduit.html#t:MonadBaseControl">MonadBaseControl</a> b (<a href="/Library/Haskell/ghc-7.4.2/lib/transformers-0.3.0.0/doc/html/Control-Monad-Trans-Identity.html#t:IdentityT">IdentityT</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-Conduit.html#t:MonadBaseControl">MonadBaseControl</a> b m =&gt; <a href="Data-Conduit.html#t:MonadBaseControl">MonadBaseControl</a> b (<a href="Data-Conduit.html#t:ResourceT">ResourceT</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-Conduit.html#t:MonadBaseControl">MonadBaseControl</a> b m =&gt; <a href="Data-Conduit.html#t:MonadBaseControl">MonadBaseControl</a> b (<a href="Data-Conduit.html#t:ExceptionT">ExceptionT</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-Monoid.html#t:Monoid">Monoid</a> w, <a href="Data-Conduit.html#t:MonadBaseControl">MonadBaseControl</a> b m) =&gt; <a href="Data-Conduit.html#t:MonadBaseControl">MonadBaseControl</a> b (<a href="/Library/Haskell/ghc-7.4.2/lib/mtl-2.1.2/doc/html/Control-Monad-Writer-Strict.html#t:WriterT">WriterT</a> w m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-Monoid.html#t:Monoid">Monoid</a> w, <a href="Data-Conduit.html#t:MonadBaseControl">MonadBaseControl</a> b m) =&gt; <a href="Data-Conduit.html#t:MonadBaseControl">MonadBaseControl</a> b (<a href="/Library/Haskell/ghc-7.4.2/lib/mtl-2.1.2/doc/html/Control-Monad-Writer-Lazy.html#t:WriterT">WriterT</a> w m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-Conduit.html#t:MonadBaseControl">MonadBaseControl</a> b m =&gt; <a href="Data-Conduit.html#t:MonadBaseControl">MonadBaseControl</a> b (<a href="/Library/Haskell/ghc-7.4.2/lib/mtl-2.1.2/doc/html/Control-Monad-State-Strict.html#t:StateT">StateT</a> s m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-Conduit.html#t:MonadBaseControl">MonadBaseControl</a> b m =&gt; <a href="Data-Conduit.html#t:MonadBaseControl">MonadBaseControl</a> b (<a href="/Library/Haskell/ghc-7.4.2/lib/mtl-2.1.2/doc/html/Control-Monad-State-Lazy.html#t:StateT">StateT</a> s m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-Conduit.html#t:MonadBaseControl">MonadBaseControl</a> b m =&gt; <a href="Data-Conduit.html#t:MonadBaseControl">MonadBaseControl</a> b (<a href="/Library/Haskell/ghc-7.4.2/lib/mtl-2.1.2/doc/html/Control-Monad-Reader.html#t:ReaderT">ReaderT</a> r m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="/Library/Haskell/ghc-7.4.2/lib/mtl-2.1.2/doc/html/Control-Monad-Error-Class.html#t:Error">Error</a> e, <a href="Data-Conduit.html#t:MonadBaseControl">MonadBaseControl</a> b m) =&gt; <a href="Data-Conduit.html#t:MonadBaseControl">MonadBaseControl</a> b (<a href="/Library/Haskell/ghc-7.4.2/lib/mtl-2.1.2/doc/html/Control-Monad-Error.html#t:ErrorT">ErrorT</a> e m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-Monoid.html#t:Monoid">Monoid</a> w, <a href="Data-Conduit.html#t:MonadBaseControl">MonadBaseControl</a> b m) =&gt; <a href="Data-Conduit.html#t:MonadBaseControl">MonadBaseControl</a> b (<a href="/Library/Haskell/ghc-7.4.2/lib/mtl-2.1.2/doc/html/Control-Monad-RWS-Strict.html#t:RWST">RWST</a> r w s m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-Monoid.html#t:Monoid">Monoid</a> w, <a href="Data-Conduit.html#t:MonadBaseControl">MonadBaseControl</a> b m) =&gt; <a href="Data-Conduit.html#t:MonadBaseControl">MonadBaseControl</a> b (<a href="/Library/Haskell/ghc-7.4.2/lib/mtl-2.1.2/doc/html/Control-Monad-RWS-Lazy.html#t:RWST">RWST</a> r w s m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-Conduit.html#t:MonadBaseControl">MonadBaseControl</a> ((-&gt;) r) ((-&gt;) r)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-Conduit.html#t:MonadBaseControl">MonadBaseControl</a> (<a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-Either.html#t:Either">Either</a> e) (<a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Data-Either.html#t:Either">Either</a> e)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-Conduit.html#t:MonadBaseControl">MonadBaseControl</a> (<a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad-ST-Safe.html#t:ST">ST</a> s) (<a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad-ST-Safe.html#t:ST">ST</a> s)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-Conduit.html#t:MonadBaseControl">MonadBaseControl</a> (<a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad-ST-Lazy-Safe.html#t:ST">ST</a> s) (<a href="/Library/Frameworks/GHC.framework/Versions/7.4.2-i386/usr/share/doc/ghc/html/libraries/base-4.5.1.0/Control-Monad-ST-Lazy-Safe.html#t:ST">ST</a> s)</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.11.0</p></div></body></html>